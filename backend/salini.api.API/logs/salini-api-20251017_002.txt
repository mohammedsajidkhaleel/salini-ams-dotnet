2025-10-17 09:54:25.207 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 09:54:27.423 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 09:54:27.923 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:54:28.116 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:54:28.124 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:54:28.215 +03:00 [INF] Database seeded successfully
2025-10-17 09:54:28.589 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 09:54:28.594 +03:00 [INF] Starting Salini AMS API
2025-10-17 09:54:28.763 +03:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5000: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-10-17 09:54:28.792 +03:00 [FTL] Application terminated unexpectedly
System.IO.IOException: Failed to bind to address http://127.0.0.1:5000: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Program.cs:line 243
2025-10-17 09:55:18.126 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 09:55:20.963 +03:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 09:55:21.505 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:55:21.705 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:55:21.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:55:21.803 +03:00 [INF] Database seeded successfully
2025-10-17 09:55:22.198 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 09:55:22.205 +03:00 [INF] Starting Salini AMS API
2025-10-17 09:55:22.383 +03:00 [INF] Now listening on: http://localhost:5000
2025-10-17 09:55:22.389 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-17 09:55:22.391 +03:00 [INF] Hosting environment: Development
2025-10-17 09:55:22.393 +03:00 [INF] Content root path: C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API
2025-10-17 09:55:31.881 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 09:55:32.057 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-17 09:55:32.066 +03:00 [INF] CORS policy execution successful.
2025-10-17 09:55:32.080 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 9.6748 ms
2025-10-17 09:55:32.097 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 218.8802ms
2025-10-17 09:55:32.116 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 09:55:32.157 +03:00 [INF] CORS policy execution successful.
2025-10-17 09:55:32.446 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 09:55:32.495 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 09:55:32.561 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 09:55:32.922 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 09:55:33.144 +03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 09:55:33.180 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'salini.api.Infrastructure.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column p.ActualDeliveryDate does not exist

POSITION: 487
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.ActualDeliveryDate does not exist
    Position: 487
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column p.ActualDeliveryDate does not exist

POSITION: 487
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.ActualDeliveryDate does not exist
    Position: 487
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 09:55:33.206 +03:00 [ERR] Error handling GetPurchaseOrdersQuery
Npgsql.PostgresException (0x80004005): 42703: column p.ActualDeliveryDate does not exist

POSITION: 487
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Queries.GetPurchaseOrders.GetPurchaseOrdersQueryHandler.Handle(GetPurchaseOrdersQuery request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Queries\GetPurchaseOrders\GetPurchaseOrdersQuery.cs:line 77
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.ActualDeliveryDate does not exist
    Position: 487
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 09:55:33.240 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 731.0867ms
2025-10-17 09:55:33.244 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 09:55:33.249 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column p.ActualDeliveryDate does not exist

POSITION: 487
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Queries.GetPurchaseOrders.GetPurchaseOrdersQueryHandler.Handle(GetPurchaseOrdersQuery request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Queries\GetPurchaseOrders\GetPurchaseOrdersQuery.cs:line 77
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
   at salini.api.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\ValidationBehavior.cs:line 36
   at salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders(Int32 pageNumber, Int32 pageSize, String searchTerm, String supplierId, String projectId, Nullable`1 status, String sortBy, Boolean sortDescending) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 52
   at lambda_method294(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.ActualDeliveryDate does not exist
    Position: 487
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 09:55:33.305 +03:00 [INF] CORS policy execution successful.
2025-10-17 09:55:33.307 +03:00 [INF] Executing endpoint '/error'
2025-10-17 09:55:33.321 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 09:55:33.363 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 09:55:33.396 +03:00 [INF] Executed endpoint '/error'
2025-10-17 09:55:33.399 +03:00 [ERR] HTTP GET /api/PurchaseOrders responded 500 in 1243.5002 ms
2025-10-17 09:55:33.409 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 500 null application/problem+json 1293.1172ms
2025-10-17 09:57:29.023 +03:00 [INF] Application is shutting down...
2025-10-17 09:58:27.040 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-10-17 09:58:27.124 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-17 09:58:27.198 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-10-17 09:58:27.261 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-10-17 09:58:27.277 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-10-17 09:58:27.295 +03:00 [INF] Applying migration '20251017065654_UpdatePurchaseOrdersSchema'.
2025-10-17 09:58:27.463 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrders" DROP COLUMN "OrderDate";
2025-10-17 09:58:27.472 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrders" DROP COLUMN "RequestedById";
2025-10-17 09:58:27.479 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrderItems" DROP COLUMN "ItemName";
2025-10-17 09:58:27.483 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrderItems" DROP COLUMN "TotalPrice";
2025-10-17 09:58:27.489 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrders" RENAME COLUMN "ReceivedDate" TO "ActualDeliveryDate";
2025-10-17 09:58:27.494 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrderItems" RENAME COLUMN "Description" TO "Notes";
2025-10-17 09:58:27.512 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "PurchaseOrders" SET "ProjectId" = '' WHERE "ProjectId" IS NULL;
ALTER TABLE "PurchaseOrders" ALTER COLUMN "ProjectId" SET NOT NULL;
ALTER TABLE "PurchaseOrders" ALTER COLUMN "ProjectId" SET DEFAULT '';
2025-10-17 09:58:27.521 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrders" ADD "PoDate" timestamp with time zone NOT NULL DEFAULT TIMESTAMPTZ '-infinity';
2025-10-17 09:58:27.526 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrderItems" ADD "ItemId" character varying(450) NOT NULL DEFAULT '';
2025-10-17 09:58:27.540 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PurchaseOrderItems_ItemId" ON "PurchaseOrderItems" ("ItemId");
2025-10-17 09:58:27.556 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseOrderItems" ADD CONSTRAINT "FK_PurchaseOrderItems_Items_ItemId" FOREIGN KEY ("ItemId") REFERENCES "Items" ("Id") ON DELETE RESTRICT;
2025-10-17 09:58:27.560 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251017065654_UpdatePurchaseOrdersSchema', '8.0.10');
2025-10-17 09:59:13.385 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 09:59:16.145 +03:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 09:59:16.685 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:59:16.889 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:59:16.895 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 09:59:16.973 +03:00 [INF] Database seeded successfully
2025-10-17 09:59:17.303 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 09:59:17.309 +03:00 [INF] Starting Salini AMS API
2025-10-17 09:59:17.456 +03:00 [INF] Now listening on: http://localhost:5000
2025-10-17 09:59:17.458 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-17 09:59:17.459 +03:00 [INF] Hosting environment: Development
2025-10-17 09:59:17.460 +03:00 [INF] Content root path: C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API
2025-10-17 09:59:42.004 +03:00 [INF] Application is shutting down...
2025-10-17 10:01:07.378 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 10:01:09.726 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 10:01:10.225 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:01:10.435 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:01:10.443 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:01:10.534 +03:00 [INF] Database seeded successfully
2025-10-17 10:01:10.890 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 10:01:10.896 +03:00 [INF] Starting Salini AMS API
2025-10-17 10:01:11.046 +03:00 [INF] Now listening on: http://localhost:5000
2025-10-17 10:01:11.048 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-17 10:01:11.050 +03:00 [INF] Hosting environment: Development
2025-10-17 10:01:11.051 +03:00 [INF] Content root path: C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API
2025-10-17 10:02:08.853 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders - null null
2025-10-17 10:02:08.907 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-17 10:02:08.938 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:02:08.946 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:02:08.951 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 401 in 39.1066 ms
2025-10-17 10:02:08.956 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders - 401 0 null 104.2384ms
2025-10-17 10:02:50.217 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders - null null
2025-10-17 10:02:50.234 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:02:50.236 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:02:50.238 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 401 in 7.5909 ms
2025-10-17 10:02:50.240 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders - 401 0 null 22.5154ms
2025-10-17 10:03:02.584 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:03:02.715 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:03:02.720 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 6.3046 ms
2025-10-17 10:03:02.725 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 140.7802ms
2025-10-17 10:03:02.731 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:03:02.751 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:03:02.977 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:03:03.038 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:03:03.096 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:03:03.401 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:03:03.573 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:03:03.579 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:03:03.592 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:03:03.645 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 598.1211ms
2025-10-17 10:03:03.647 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:03:03.649 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 898.3359 ms
2025-10-17 10:03:03.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 924.0674ms
2025-10-17 10:03:07.702 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:03:07.705 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:03:07.709 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:03:07.711 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:03:07.717 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:03:07.727 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:03:07.734 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:03:07.738 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:03:07.739 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:03:07.743 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 27.853ms
2025-10-17 10:03:07.744 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:03:07.745 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 40.2126 ms
2025-10-17 10:03:07.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 46.0751ms
2025-10-17 10:04:36.083 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:04:36.087 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:04:36.089 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.7011 ms
2025-10-17 10:04:36.092 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 8.7621ms
2025-10-17 10:04:36.095 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:04:36.099 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:04:36.101 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:04:36.104 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:04:36.110 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:04:36.118 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:04:36.127 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:04:36.132 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:04:36.134 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:04:36.137 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 28.6296ms
2025-10-17 10:04:36.140 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:04:36.143 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 44.6930 ms
2025-10-17 10:04:36.149 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 53.4466ms
2025-10-17 10:05:27.998 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:05:28.010 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:05:28.012 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.5413 ms
2025-10-17 10:05:28.016 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 17.963ms
2025-10-17 10:05:28.027 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:05:28.034 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:05:28.036 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:05:28.040 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:05:28.044 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:05:28.053 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:05:28.064 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:05:28.077 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:05:28.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:05:28.088 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 44.5273ms
2025-10-17 10:05:28.091 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:05:28.094 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 60.3148 ms
2025-10-17 10:05:28.103 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 75.5003ms
2025-10-17 10:08:13.072 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:08:13.078 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:13.080 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.9427 ms
2025-10-17 10:08:13.082 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 9.8343ms
2025-10-17 10:08:13.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:08:13.092 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:13.095 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:08:13.097 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:08:13.103 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:08:13.398 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:08:13.420 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:08:13.449 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:08:13.461 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:08:13.466 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 365.4146ms
2025-10-17 10:08:13.470 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:08:13.473 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 380.5216 ms
2025-10-17 10:08:13.477 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 389.1461ms
2025-10-17 10:08:16.028 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:08:16.030 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.030 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:08:16.031 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 1.0200 ms
2025-10-17 10:08:16.034 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.032 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:08:16.036 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 8.0933ms
2025-10-17 10:08:16.036 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:08:16.037 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 3.9241 ms
2025-10-17 10:08:16.039 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.042 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:08:16.043 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:08:16.045 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.050 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 19.6658ms
2025-10-17 10:08:16.050 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 11.0461 ms
2025-10-17 10:08:16.063 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 31.1164ms
2025-10-17 10:08:16.056 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.057 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 11.6239 ms
2025-10-17 10:08:16.070 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 33.523ms
2025-10-17 10:08:16.053 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.066 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:08:16.068 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:08:16.063 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:08:16.074 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:08:16.074 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 21.2184 ms
2025-10-17 10:08:16.080 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.085 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.087 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.092 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:08:16.091 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:08:16.088 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 46.7362ms
2025-10-17 10:08:16.092 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:08:16.092 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:08:16.101 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:08:16.101 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:08:16.107 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:08:16.116 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:08:16.116 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:08:16.116 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:08:16.122 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:08:16.134 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:08:16.142 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:08:16.159 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:08:16.163 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:08:16.164 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:08:16.180 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 76.7621ms
2025-10-17 10:08:16.181 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:08:16.182 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:08:16.185 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.187 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 130.3344 ms
2025-10-17 10:08:16.189 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 146.4954ms
2025-10-17 10:08:16.192 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:08:16.198 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:08:16.198 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:08:16.200 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:08:16.201 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:08:16.203 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:08:16.206 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:08:16.214 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:08:16.218 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:08:16.223 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:08:16.224 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:08:16.226 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 24.0457ms
2025-10-17 10:08:16.226 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 107.6955ms
2025-10-17 10:08:16.227 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:08:16.228 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:08:16.229 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 44.5799 ms
2025-10-17 10:08:16.231 +03:00 [INF] HTTP GET /api/Projects responded 200 in 143.8904 ms
2025-10-17 10:08:16.233 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 51.6889ms
2025-10-17 10:08:16.238 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 163.6402ms
2025-10-17 10:08:16.273 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:08:16.290 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:08:16.296 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:08:16.299 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:08:16.313 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:08:16.317 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:08:16.318 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:08:16.321 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 212.2921ms
2025-10-17 10:08:16.322 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:08:16.324 +03:00 [INF] HTTP GET /api/Employees responded 200 in 238.8660 ms
2025-10-17 10:08:16.325 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 214.5097ms
2025-10-17 10:08:16.329 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 266.2247ms
2025-10-17 10:08:16.329 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:08:16.330 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:08:16.335 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:08:16.336 +03:00 [INF] HTTP GET /api/Items responded 200 in 256.7157 ms
2025-10-17 10:08:16.337 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:08:16.339 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 272.2151ms
2025-10-17 10:08:16.341 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:08:16.347 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:08:16.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:08:16.364 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:08:16.367 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:08:16.368 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:08:16.371 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 24.9189ms
2025-10-17 10:08:16.373 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:08:16.374 +03:00 [INF] HTTP GET /api/Items responded 200 in 38.9131 ms
2025-10-17 10:08:16.380 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 50.347ms
2025-10-17 10:10:25.361 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:10:25.365 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:10:25.367 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:10:25.368 +03:00 [INF] HTTP GET /api/Items responded 401 in 3.6587 ms
2025-10-17 10:10:25.371 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 401 0 null 9.7685ms
2025-10-17 10:13:17.743 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:13:17.748 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:17.749 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.6834 ms
2025-10-17 10:13:17.754 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 10.5308ms
2025-10-17 10:13:17.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:13:17.762 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:17.765 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:13:17.768 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:13:17.771 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:13:17.866 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:13:17.905 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:13:17.912 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:13:17.914 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:13:17.924 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 153.0959ms
2025-10-17 10:13:17.938 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:13:17.943 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 180.8391 ms
2025-10-17 10:13:17.947 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 189.0057ms
2025-10-17 10:13:19.399 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:13:19.401 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:13:19.402 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.404 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:13:19.405 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.405 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 3.2425 ms
2025-10-17 10:13:19.408 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.408 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:13:19.408 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 3.7929 ms
2025-10-17 10:13:19.410 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 11.4509ms
2025-10-17 10:13:19.411 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 3.4576 ms
2025-10-17 10:13:19.410 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:13:19.413 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.414 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:13:19.416 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 14.2937ms
2025-10-17 10:13:19.419 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:13:19.420 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 16.1341ms
2025-10-17 10:13:19.423 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.423 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 9.8720 ms
2025-10-17 10:13:19.427 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.431 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:13:19.433 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.438 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:13:19.438 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 15.5634 ms
2025-10-17 10:13:19.444 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 35.218ms
2025-10-17 10:13:19.446 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:13:19.450 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.450 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 16.8283 ms
2025-10-17 10:13:19.467 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 48.1124ms
2025-10-17 10:13:19.457 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 46.1569ms
2025-10-17 10:13:19.463 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:13:19.463 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:13:19.466 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:13:19.453 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.484 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.489 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:13:19.490 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:13:19.491 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:13:19.493 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:13:19.500 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:13:19.500 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:13:19.502 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:13:19.504 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:13:19.510 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:13:19.516 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:13:19.518 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:13:19.520 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:13:19.526 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:13:19.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:13:19.546 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 57.8593ms
2025-10-17 10:13:19.551 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:13:19.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:13:19.556 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:13:19.561 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:13:19.567 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.568 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 141.5030 ms
2025-10-17 10:13:19.569 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:13:19.571 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:13:19.575 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:13:19.573 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 60.2613ms
2025-10-17 10:13:19.585 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:13:19.586 +03:00 [INF] HTTP GET /api/Items responded 200 in 133.1568 ms
2025-10-17 10:13:19.572 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 157.1128ms
2025-10-17 10:13:19.579 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:13:19.588 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 150.8526ms
2025-10-17 10:13:19.597 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:13:19.600 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:13:19.602 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:13:19.604 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:19.604 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:13:19.612 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:13:19.615 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:13:19.621 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:13:19.623 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:13:19.627 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:13:19.630 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:13:19.637 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 58.7605ms
2025-10-17 10:13:19.639 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:13:19.642 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:13:19.643 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:13:19.646 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:13:19.651 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:13:19.653 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 85.8566 ms
2025-10-17 10:13:19.656 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:13:19.663 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:13:19.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 110.479ms
2025-10-17 10:13:19.670 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 153.1321ms
2025-10-17 10:13:19.685 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:13:19.688 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:13:19.691 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:13:19.693 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:13:19.694 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:13:19.695 +03:00 [INF] HTTP GET /api/Projects responded 200 in 210.9558 ms
2025-10-17 10:13:19.698 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 68.1681ms
2025-10-17 10:13:19.713 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:13:19.711 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 248.8822ms
2025-10-17 10:13:19.713 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 214.0586ms
2025-10-17 10:13:19.714 +03:00 [INF] HTTP GET /api/Items responded 200 in 110.4604 ms
2025-10-17 10:13:19.720 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:13:19.723 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 126.2082ms
2025-10-17 10:13:19.727 +03:00 [INF] HTTP GET /api/Employees responded 200 in 277.1989 ms
2025-10-17 10:13:19.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 305.2613ms
2025-10-17 10:13:49.462 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:13:49.862 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:49.911 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 49.6869 ms
2025-10-17 10:13:49.929 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 467.0194ms
2025-10-17 10:13:49.937 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:13:49.945 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:13:49.947 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:13:49.954 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:13:49.961 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:13:49.969 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:13:49.985 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:13:49.989 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:13:49.993 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:13:49.997 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 38.2323ms
2025-10-17 10:13:50.001 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:13:50.003 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 57.4133 ms
2025-10-17 10:13:50.008 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 71.1169ms
2025-10-17 10:13:56.924 +03:00 [INF] Application is shutting down...
2025-10-17 10:14:04.414 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 10:14:05.951 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 10:14:06.295 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:14:06.443 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:14:06.450 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:14:06.510 +03:00 [INF] Database seeded successfully
2025-10-17 10:14:06.742 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 10:14:06.746 +03:00 [INF] Starting Salini AMS API
2025-10-17 10:14:06.851 +03:00 [INF] Now listening on: http://localhost:5000
2025-10-17 10:14:06.853 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-17 10:14:06.854 +03:00 [INF] Hosting environment: Development
2025-10-17 10:14:06.856 +03:00 [INF] Content root path: C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API
2025-10-17 10:14:11.007 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:14:11.191 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-17 10:14:11.256 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:11.318 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 60.4642 ms
2025-10-17 10:14:11.406 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 400.53ms
2025-10-17 10:14:11.420 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:14:11.455 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:11.715 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:14:11.780 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:14:11.855 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:14:12.167 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:14:12.342 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:14:12.349 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:14:12.363 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:14:12.468 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 674.7087ms
2025-10-17 10:14:12.471 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:14:12.475 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 1020.4001 ms
2025-10-17 10:14:12.484 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 1063.4498ms
2025-10-17 10:14:15.052 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:14:15.054 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:14:15.056 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.056 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:14:15.057 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.059 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 3.2400 ms
2025-10-17 10:14:15.061 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.060 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:14:15.062 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 5.6226 ms
2025-10-17 10:14:15.063 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:14:15.064 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 12.4808ms
2025-10-17 10:14:15.066 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 4.9251 ms
2025-10-17 10:14:15.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:14:15.068 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.070 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 16.2874ms
2025-10-17 10:14:15.074 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.083 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:14:15.085 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 28.8564ms
2025-10-17 10:14:15.090 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 21.7660 ms
2025-10-17 10:14:15.093 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.098 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:14:15.098 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 24.5403 ms
2025-10-17 10:14:15.101 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.106 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:14:15.111 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 50.6747ms
2025-10-17 10:14:15.117 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.119 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 55.9857ms
2025-10-17 10:14:15.120 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 19.3214 ms
2025-10-17 10:14:15.121 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:14:15.126 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.134 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:14:15.141 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:14:15.147 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 64.2347ms
2025-10-17 10:14:15.154 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:14:15.154 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.166 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:14:15.166 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:14:15.166 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:14:15.176 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:14:15.176 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:14:15.178 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:14:15.180 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:14:15.182 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:14:15.189 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:14:15.202 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:14:15.256 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:14:15.260 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:14:15.260 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:14:15.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:14:15.268 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:14:15.271 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:14:15.274 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:14:15.278 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 99.226ms
2025-10-17 10:14:15.284 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:14:15.284 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:14:15.286 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:14:15.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:14:15.287 +03:00 [INF] HTTP GET /api/Items responded 200 in 160.8444 ms
2025-10-17 10:14:15.290 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.294 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 187.6456ms
2025-10-17 10:14:15.296 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:14:15.297 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 125.1608ms
2025-10-17 10:14:15.305 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:14:15.306 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:14:15.308 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:14:15.310 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:14:15.313 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:14:15.314 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 221.5998 ms
2025-10-17 10:14:15.316 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:14:15.322 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 253.9845ms
2025-10-17 10:14:15.323 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:14:15.326 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:14:15.329 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:14:15.330 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:14:15.337 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:14:15.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:14:15.339 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:14:15.343 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:14:15.343 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:14:15.348 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:14:15.348 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:14:15.351 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 38.5377ms
2025-10-17 10:14:15.356 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:14:15.356 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:14:15.357 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:14:15.358 +03:00 [INF] HTTP GET /api/Items responded 200 in 67.8583 ms
2025-10-17 10:14:15.359 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 176.6555ms
2025-10-17 10:14:15.359 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:14:15.361 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 32.5882ms
2025-10-17 10:14:15.363 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 77.2169ms
2025-10-17 10:14:15.366 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:14:15.376 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:14:15.381 +03:00 [INF] HTTP GET /api/Projects responded 200 in 227.3212 ms
2025-10-17 10:14:15.383 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 72.9398 ms
2025-10-17 10:14:15.388 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 253.3836ms
2025-10-17 10:14:15.390 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 84.0882ms
2025-10-17 10:14:15.392 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:14:15.400 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:14:15.422 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 246.6105ms
2025-10-17 10:14:15.424 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:14:15.426 +03:00 [INF] HTTP GET /api/Employees responded 200 in 308.9758 ms
2025-10-17 10:14:15.430 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 331.6127ms
2025-10-17 10:16:10.861 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:16:10.868 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:10.870 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.0684 ms
2025-10-17 10:16:10.874 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 13.0902ms
2025-10-17 10:16:10.881 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:16:10.885 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:10.888 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:16:10.889 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:16:10.899 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:16:10.919 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:16:10.948 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:16:10.955 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:16:10.959 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:10.961 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 67.2531ms
2025-10-17 10:16:10.970 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:16:10.973 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 87.1620 ms
2025-10-17 10:16:10.978 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 96.7717ms
2025-10-17 10:16:14.530 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:16:14.531 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:16:14.533 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:16:14.535 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.535 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:16:14.537 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:16:14.540 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:16:14.540 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.542 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 7.0253 ms
2025-10-17 10:16:14.589 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.590 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 52.7875 ms
2025-10-17 10:16:14.593 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.595 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.596 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 55.9102 ms
2025-10-17 10:16:14.598 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 68.0932ms
2025-10-17 10:16:14.599 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 9.3507 ms
2025-10-17 10:16:14.600 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 68.8708ms
2025-10-17 10:16:14.601 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 8.1780 ms
2025-10-17 10:16:14.602 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 6.9709 ms
2025-10-17 10:16:14.605 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 71.5488ms
2025-10-17 10:16:14.609 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:16:14.611 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 75.8748ms
2025-10-17 10:16:14.614 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:16:14.615 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 77.0796ms
2025-10-17 10:16:14.616 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 76.2468ms
2025-10-17 10:16:14.619 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:16:14.622 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.627 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:16:14.629 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.638 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.642 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.642 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-17 10:16:14.645 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-17 10:16:14.646 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-17 10:16:14.646 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-17 10:16:14.665 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
2025-10-17 10:16:14.667 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
2025-10-17 10:16:14.670 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
2025-10-17 10:16:14.675 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
2025-10-17 10:16:14.680 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:16:14.680 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:16:14.682 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:16:14.686 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:16:14.696 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:16:14.696 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:16:14.696 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:16:14.696 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:16:14.697 +03:00 [INF] HTTP GET /api/Suppliers responded 401 in 74.7307 ms
2025-10-17 10:16:14.698 +03:00 [INF] HTTP GET /api/Employees responded 401 in 68.6171 ms
2025-10-17 10:16:14.701 +03:00 [INF] HTTP GET /api/Items responded 401 in 63.6528 ms
2025-10-17 10:16:14.703 +03:00 [INF] HTTP GET /api/Projects responded 401 in 61.1882 ms
2025-10-17 10:16:14.706 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 401 0 null 97.1036ms
2025-10-17 10:16:14.709 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 401 0 null 94.6997ms
2025-10-17 10:16:14.711 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 401 0 null 91.5361ms
2025-10-17 10:16:14.714 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 401 0 null 87.0143ms
2025-10-17 10:16:14.721 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:16:14.736 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:16:14.743 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.753 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:14.755 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-17 10:16:14.756 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-17 10:16:14.757 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
2025-10-17 10:16:14.761 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 7:16:11 AM', Current time (UTC): '10/17/2025 7:16:14 AM'.
2025-10-17 10:16:14.762 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:16:14.769 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:16:14.770 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:16:14.772 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:16:14.773 +03:00 [INF] HTTP GET /api/Suppliers responded 401 in 30.8079 ms
2025-10-17 10:16:14.774 +03:00 [INF] HTTP GET /api/Items responded 401 in 21.1505 ms
2025-10-17 10:16:14.776 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 401 0 null 54.7889ms
2025-10-17 10:16:14.778 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 401 0 null 41.1514ms
2025-10-17 10:16:19.675 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:16:19.678 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:19.682 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 4.4024 ms
2025-10-17 10:16:19.686 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 10.4996ms
2025-10-17 10:16:19.689 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:16:19.692 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:19.693 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:16:19.695 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:16:19.697 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 401 in 4.5191 ms
2025-10-17 10:16:19.699 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 401 0 null 10.2671ms
2025-10-17 10:16:21.408 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Auth/login - null null
2025-10-17 10:16:21.439 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:21.474 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 35.2701 ms
2025-10-17 10:16:21.511 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Auth/login - 204 null null 102.8436ms
2025-10-17 10:16:21.622 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login - application/json 51
2025-10-17 10:16:21.659 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:21.663 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.AuthController.Login (salini.api.API)'
2025-10-17 10:16:21.727 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(salini.api.API.Controllers.LoginRequest) on controller salini.api.API.Controllers.AuthController (salini.api.API).
2025-10-17 10:16:21.816 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:16:22.248 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-17 10:16:22.263 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:16:22.484 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p20='?', @p0='?' (DbType = Int32), @p1='?', @p21='?', @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Boolean), @p16='?' (DbType = Int32), @p17='?', @p18='?' (DbType = Boolean), @p19='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Department" = @p2, "Email" = @p3, "EmailConfirmed" = @p4, "FirstName" = @p5, "IsActive" = @p6, "LastLogin" = @p7, "LastName" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "PhoneNumber" = @p14, "PhoneNumberConfirmed" = @p15, "Role" = @p16, "SecurityStamp" = @p17, "TwoFactorEnabled" = @p18, "UserName" = @p19
WHERE "Id" = @p20 AND "ConcurrencyStamp" = @p21;
2025-10-17 10:16:22.559 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ClaimType", a."ClaimValue", a."UserId"
FROM "AspNetUserClaims" AS a
WHERE a."UserId" = @__user_Id_0
2025-10-17 10:16:22.650 +03:00 [INF] User admin@salini.com logged in successfully
2025-10-17 10:16:22.653 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], salini.api.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:22.666 +03:00 [INF] Executed action salini.api.API.Controllers.AuthController.Login (salini.api.API) in 931.2362ms
2025-10-17 10:16:22.671 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.AuthController.Login (salini.api.API)'
2025-10-17 10:16:22.672 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 1013.0840 ms
2025-10-17 10:16:22.678 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login - 200 null application/json; charset=utf-8 1056.2023ms
2025-10-17 10:16:25.857 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - null null
2025-10-17 10:16:25.861 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:25.862 +03:00 [INF] HTTP OPTIONS /api/MasterData/statistics responded 204 in 1.3785 ms
2025-10-17 10:16:25.864 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - 204 null null 6.829ms
2025-10-17 10:16:25.869 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - application/json null
2025-10-17 10:16:25.875 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:25.876 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 10:16:25.885 +03:00 [INF] Route matched with {action = "GetMasterDataStatistics", controller = "MasterData"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.API.Controllers.MasterDataStatistics]] GetMasterDataStatistics() on controller salini.api.API.Controllers.MasterDataController (salini.api.API).
2025-10-17 10:16:25.899 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Companies" AS c
2025-10-17 10:16:25.915 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Departments" AS d
2025-10-17 10:16:25.926 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:16:25.942 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
WHERE e."Status" = 1
2025-10-17 10:16:25.956 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Assets" AS a
2025-10-17 10:16:25.975 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SimCards" AS s
2025-10-17 10:16:25.986 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SoftwareLicenses" AS s
2025-10-17 10:16:25.990 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.API.Controllers.MasterDataStatistics'.
2025-10-17 10:16:26.001 +03:00 [INF] Executed action salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API) in 114.299ms
2025-10-17 10:16:26.003 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 10:16:26.005 +03:00 [INF] HTTP GET /api/MasterData/statistics responded 200 in 130.4523 ms
2025-10-17 10:16:26.010 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - 200 null application/json; charset=utf-8 140.7251ms
2025-10-17 10:16:28.223 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:16:28.227 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:28.229 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.9849 ms
2025-10-17 10:16:28.232 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 8.2832ms
2025-10-17 10:16:28.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:16:28.243 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:28.246 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:16:28.248 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:16:28.253 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:16:28.268 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:16:28.286 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:16:28.293 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:16:28.295 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:28.298 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 45.9855ms
2025-10-17 10:16:28.300 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:16:28.302 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 58.9567 ms
2025-10-17 10:16:28.308 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 70.6934ms
2025-10-17 10:16:34.602 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:16:34.604 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:16:34.605 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.606 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:16:34.612 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.612 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 0.7892 ms
2025-10-17 10:16:34.610 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:16:34.608 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.608 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 3.3222 ms
2025-10-17 10:16:34.613 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:16:34.615 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 8.3296ms
2025-10-17 10:16:34.617 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.618 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 10.0554 ms
2025-10-17 10:16:34.620 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 17.5488ms
2025-10-17 10:16:34.622 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.625 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:16:34.626 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 8.7974 ms
2025-10-17 10:16:34.631 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 27.1876ms
2025-10-17 10:16:34.635 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:16:34.635 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 13.2400 ms
2025-10-17 10:16:34.638 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.640 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 30.7543ms
2025-10-17 10:16:34.643 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:16:34.651 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.653 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 40.0111ms
2025-10-17 10:16:34.655 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:16:34.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:16:34.660 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.673 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:16:34.679 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:16:34.682 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.683 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:16:34.687 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:16:34.686 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:16:34.687 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:16:34.684 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:16:34.693 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:16:34.721 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:16:34.808 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:16:34.810 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:16:34.813 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:16:34.819 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:16:34.820 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:16:34.820 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:16:34.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:16:34.823 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:16:34.844 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:16:34.846 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:34.849 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:16:34.850 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:16:34.851 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 165.3298ms
2025-10-17 10:16:34.852 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:34.853 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:16:34.863 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.864 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:16:34.860 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 50.5581ms
2025-10-17 10:16:34.856 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:16:34.872 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:34.865 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:16:34.865 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:16:34.868 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:16:34.880 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 228.4447 ms
2025-10-17 10:16:34.874 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 61.4941ms
2025-10-17 10:16:34.874 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:16:34.877 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:34.879 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:16:34.858 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:16:34.882 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 246.8603ms
2025-10-17 10:16:34.883 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:16:34.904 +03:00 [INF] HTTP GET /api/Projects responded 200 in 222.2530 ms
2025-10-17 10:16:34.899 +03:00 [INF] HTTP GET /api/Items responded 200 in 260.7397 ms
2025-10-17 10:16:34.899 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:16:34.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:16:34.893 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:16:34.906 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 247.4935ms
2025-10-17 10:16:34.909 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 284.471ms
2025-10-17 10:16:34.910 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:34.914 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:16:34.920 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:16:34.928 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:16:34.928 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 120.912ms
2025-10-17 10:16:34.930 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:16:34.933 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:16:34.933 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:16:34.934 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:34.935 +03:00 [INF] HTTP GET /api/Employees responded 200 in 275.3734 ms
2025-10-17 10:16:34.943 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:16:34.944 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 65.7708ms
2025-10-17 10:16:34.946 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 303.3469ms
2025-10-17 10:16:34.948 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:16:34.950 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:16:34.956 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:34.958 +03:00 [INF] HTTP GET /api/Items responded 200 in 95.4758 ms
2025-10-17 10:16:34.961 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 33.3073ms
2025-10-17 10:16:34.964 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 111.1836ms
2025-10-17 10:16:34.967 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:16:34.971 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 94.5159 ms
2025-10-17 10:16:34.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 110.7093ms
2025-10-17 10:16:55.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:16:55.541 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:55.542 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 0.9817 ms
2025-10-17 10:16:55.543 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 5.0486ms
2025-10-17 10:16:55.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:16:55.554 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:55.557 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:16:55.557 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:16:55.565 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:16:55.593 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:16:55.639 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:16:55.656 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:16:55.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:55.676 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 114.4469ms
2025-10-17 10:16:55.691 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:16:55.769 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 214.5651 ms
2025-10-17 10:16:55.774 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 223.6928ms
2025-10-17 10:16:58.808 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:16:58.810 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:16:58.812 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.813 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:16:58.814 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.814 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 2.2538 ms
2025-10-17 10:16:58.816 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:16:58.817 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.818 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 4.2661 ms
2025-10-17 10:16:58.819 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:16:58.819 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 11.5215ms
2025-10-17 10:16:58.822 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.822 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:16:58.823 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 5.9331 ms
2025-10-17 10:16:58.825 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 15.2406ms
2025-10-17 10:16:58.827 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.830 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:16:58.831 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 8.4892 ms
2025-10-17 10:16:58.834 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.836 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 22.7657ms
2025-10-17 10:16:58.838 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:16:58.839 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 11.5210 ms
2025-10-17 10:16:58.840 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.846 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 29.6772ms
2025-10-17 10:16:58.850 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:16:58.851 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:16:58.854 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.856 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 36.56ms
2025-10-17 10:16:58.857 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 16.4317 ms
2025-10-17 10:16:58.863 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:16:58.866 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.867 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:16:58.868 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:16:58.873 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 42.953ms
2025-10-17 10:16:58.878 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.880 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:16:58.881 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:16:58.890 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:16:58.887 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:16:58.881 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:16:58.893 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:16:58.893 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:16:58.894 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:16:58.897 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:16:58.899 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:16:58.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:16:58.902 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:16:58.905 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:16:58.906 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:16:58.911 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:58.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:16:58.912 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:16:58.917 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:16:58.915 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:16:58.913 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 32.1998ms
2025-10-17 10:16:58.918 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:58.919 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:16:58.923 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.923 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:16:58.925 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 31.8454ms
2025-10-17 10:16:58.930 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:16:58.927 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:16:58.928 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:16:58.929 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 94.9691 ms
2025-10-17 10:16:58.926 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:16:58.931 +03:00 [INF] HTTP GET /api/Items responded 200 in 64.5171 ms
2025-10-17 10:16:58.940 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 90.0754ms
2025-10-17 10:16:58.946 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:16:58.934 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:16:58.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 112.903ms
2025-10-17 10:16:58.938 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:16:58.932 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:58.951 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:16:58.956 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:16:58.958 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 56.9932ms
2025-10-17 10:16:58.966 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:16:58.969 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:16:58.969 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:16:58.970 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:16:58.974 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:16:58.975 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:16:58.975 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:58.977 +03:00 [INF] HTTP GET /api/Projects responded 200 in 99.0612 ms
2025-10-17 10:16:58.979 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:16:58.982 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:16:58.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 123.9738ms
2025-10-17 10:16:58.988 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:58.991 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:16:58.994 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 42.6794ms
2025-10-17 10:16:58.994 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 98.2795ms
2025-10-17 10:16:58.996 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:16:58.997 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:16:58.999 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:16:58.999 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:16:59.000 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 77.9650 ms
2025-10-17 10:16:59.003 +03:00 [INF] HTTP GET /api/Employees responded 200 in 148.6141 ms
2025-10-17 10:16:59.005 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 30.4033ms
2025-10-17 10:16:59.007 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 92.1425ms
2025-10-17 10:16:59.008 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 169.8418ms
2025-10-17 10:16:59.009 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:16:59.020 +03:00 [INF] HTTP GET /api/Items responded 200 in 82.1191 ms
2025-10-17 10:16:59.022 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 96.3331ms
2025-10-17 10:19:08.269 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:19:08.279 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:08.281 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.9953 ms
2025-10-17 10:19:08.285 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 15.6493ms
2025-10-17 10:19:08.292 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:19:08.300 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:08.315 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:19:08.317 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:19:08.333 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:19:08.474 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:19:08.497 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:19:08.507 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:19:08.511 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:19:08.514 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 183.5819ms
2025-10-17 10:19:08.523 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:19:08.528 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 228.2732 ms
2025-10-17 10:19:08.534 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 241.6412ms
2025-10-17 10:19:16.549 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:19:16.551 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:19:16.552 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.553 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:19:16.555 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.555 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 3.4456 ms
2025-10-17 10:19:16.557 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:19:16.558 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.564 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 6.4196 ms
2025-10-17 10:19:16.561 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 11.7523ms
2025-10-17 10:19:16.561 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:19:16.563 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.564 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:19:16.559 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 4.4228 ms
2025-10-17 10:19:16.568 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 14.3681ms
2025-10-17 10:19:16.571 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:19:16.576 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.577 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 13.1781 ms
2025-10-17 10:19:16.579 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.581 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 30.5755ms
2025-10-17 10:19:16.585 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:19:16.589 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.590 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 14.6021 ms
2025-10-17 10:19:16.593 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 35.7833ms
2025-10-17 10:19:16.595 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:19:16.597 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:19:16.601 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.602 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 12.7671 ms
2025-10-17 10:19:16.604 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 43.52ms
2025-10-17 10:19:16.608 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:19:16.609 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:19:16.611 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.612 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:19:16.613 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 41.75ms
2025-10-17 10:19:16.619 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.623 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:19:16.624 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:19:16.626 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:19:16.630 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:19:16.632 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:19:16.634 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:19:16.636 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:19:16.637 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:19:16.641 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:19:16.644 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:19:16.645 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:19:16.648 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:19:16.650 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:19:16.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:19:16.652 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 28.7266ms
2025-10-17 10:19:16.654 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:19:16.659 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:19:16.662 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.668 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 88.5035 ms
2025-10-17 10:19:16.672 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:19:16.673 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 109.5454ms
2025-10-17 10:19:16.674 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:19:16.675 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:19:16.680 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:19:16.684 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:19:16.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:19:16.688 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 42.9924ms
2025-10-17 10:19:16.689 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:19:16.690 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:19:16.694 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:19:16.695 +03:00 [INF] HTTP GET /api/Projects responded 200 in 75.7627 ms
2025-10-17 10:19:16.698 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:19:16.701 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 92.8806ms
2025-10-17 10:19:16.705 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:19:16.707 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:19:16.710 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 27.0219ms
2025-10-17 10:19:16.712 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:19:16.713 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 51.2711 ms
2025-10-17 10:19:16.715 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 61.122ms
2025-10-17 10:19:16.716 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:19:16.715 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:19:16.723 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:19:16.726 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:19:16.728 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 92.2392ms
2025-10-17 10:19:16.728 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:19:16.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:19:16.730 +03:00 [INF] HTTP GET /api/Items responded 200 in 128.4873 ms
2025-10-17 10:19:16.732 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:19:16.735 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 150.0856ms
2025-10-17 10:19:16.737 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:19:16.741 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:19:16.743 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:19:16.745 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:19:16.756 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:19:16.758 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:19:16.760 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:19:16.761 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 18.5878ms
2025-10-17 10:19:16.761 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:19:16.763 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:19:16.767 +03:00 [INF] HTTP GET /api/Items responded 200 in 34.5513 ms
2025-10-17 10:19:16.770 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 40.7865ms
2025-10-17 10:19:16.781 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:19:16.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:19:16.788 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 147.9101ms
2025-10-17 10:19:16.790 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:19:16.791 +03:00 [INF] HTTP GET /api/Employees responded 200 in 179.7249 ms
2025-10-17 10:19:16.792 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 195.648ms
2025-10-17 10:23:56.770 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:23:56.777 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:23:56.779 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 2.1219 ms
2025-10-17 10:23:56.783 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 12.9855ms
2025-10-17 10:23:56.788 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:23:56.792 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:23:56.795 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:23:56.797 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:23:56.811 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:23:56.823 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:23:56.841 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:23:56.848 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:23:56.851 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:23:56.856 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 45.66ms
2025-10-17 10:23:56.859 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:23:56.862 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 69.5331 ms
2025-10-17 10:23:56.866 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 77.7063ms
2025-10-17 10:24:02.098 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers/SUP_003 - null null
2025-10-17 10:24:02.102 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:02.103 +03:00 [INF] HTTP OPTIONS /api/Suppliers/SUP_003 responded 204 in 1.1536 ms
2025-10-17 10:24:02.107 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers/SUP_003 - 204 null null 8.3547ms
2025-10-17 10:24:02.110 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/Suppliers/SUP_003 - application/json null
2025-10-17 10:24:02.113 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:02.115 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API)'
2025-10-17 10:24:02.121 +03:00 [INF] Route matched with {action = "DeleteSupplier", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteSupplier(System.String) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:24:02.149 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."ContactPerson", s."CreatedAt", s."CreatedBy", s."Email", s."Name", s."Phone", s."Status", s."UpdatedAt", s."UpdatedBy"
FROM "Suppliers" AS s
WHERE s."Id" = @__request_Id_0
LIMIT 1
2025-10-17 10:24:02.219 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Suppliers"
WHERE "Id" = @p0;
2025-10-17 10:24:02.231 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-17 10:24:02.234 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API) in 109.991ms
2025-10-17 10:24:02.235 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API)'
2025-10-17 10:24:02.237 +03:00 [INF] HTTP DELETE /api/Suppliers/SUP_003 responded 204 in 123.5036 ms
2025-10-17 10:24:02.239 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/Suppliers/SUP_003 - 204 null null 129.6567ms
2025-10-17 10:24:04.437 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers/SUP_001 - null null
2025-10-17 10:24:04.439 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:04.440 +03:00 [INF] HTTP OPTIONS /api/Suppliers/SUP_001 responded 204 in 1.0316 ms
2025-10-17 10:24:04.444 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers/SUP_001 - 204 null null 7.4612ms
2025-10-17 10:24:04.448 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/Suppliers/SUP_001 - application/json null
2025-10-17 10:24:04.451 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:04.452 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API)'
2025-10-17 10:24:04.454 +03:00 [INF] Route matched with {action = "DeleteSupplier", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteSupplier(System.String) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:24:04.459 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."ContactPerson", s."CreatedAt", s."CreatedBy", s."Email", s."Name", s."Phone", s."Status", s."UpdatedAt", s."UpdatedBy"
FROM "Suppliers" AS s
WHERE s."Id" = @__request_Id_0
LIMIT 1
2025-10-17 10:24:04.469 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Suppliers"
WHERE "Id" = @p0;
2025-10-17 10:24:04.472 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-17 10:24:04.473 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API) in 17.7371ms
2025-10-17 10:24:04.477 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API)'
2025-10-17 10:24:04.480 +03:00 [INF] HTTP DELETE /api/Suppliers/SUP_001 responded 204 in 29.3957 ms
2025-10-17 10:24:04.484 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/Suppliers/SUP_001 - 204 null null 36.2667ms
2025-10-17 10:24:06.328 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers/SUP_002 - null null
2025-10-17 10:24:06.331 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:06.333 +03:00 [INF] HTTP OPTIONS /api/Suppliers/SUP_002 responded 204 in 1.7034 ms
2025-10-17 10:24:06.336 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers/SUP_002 - 204 null null 8.4105ms
2025-10-17 10:24:06.340 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/Suppliers/SUP_002 - application/json null
2025-10-17 10:24:06.347 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:06.349 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API)'
2025-10-17 10:24:06.352 +03:00 [INF] Route matched with {action = "DeleteSupplier", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteSupplier(System.String) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:24:06.357 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Address", s."ContactPerson", s."CreatedAt", s."CreatedBy", s."Email", s."Name", s."Phone", s."Status", s."UpdatedAt", s."UpdatedBy"
FROM "Suppliers" AS s
WHERE s."Id" = @__request_Id_0
LIMIT 1
2025-10-17 10:24:06.365 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Suppliers"
WHERE "Id" = @p0;
2025-10-17 10:24:06.368 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-17 10:24:06.370 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API) in 15.8468ms
2025-10-17 10:24:06.373 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.DeleteSupplier (salini.api.API)'
2025-10-17 10:24:06.375 +03:00 [INF] HTTP DELETE /api/Suppliers/SUP_002 responded 204 in 27.9696 ms
2025-10-17 10:24:06.377 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/Suppliers/SUP_002 - 204 null null 37.4314ms
2025-10-17 10:24:12.971 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers - null null
2025-10-17 10:24:12.973 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:12.975 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 1.7488 ms
2025-10-17 10:24:12.977 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers - 204 null null 5.9697ms
2025-10-17 10:24:12.981 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Suppliers - application/json 62
2025-10-17 10:24:12.984 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:12.986 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.CreateSupplier (salini.api.API)'
2025-10-17 10:24:12.993 +03:00 [INF] Route matched with {action = "CreateSupplier", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.Supplier.SupplierDto]] CreateSupplier(salini.api.Application.DTOs.Supplier.SupplierCreateDto) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:24:13.011 +03:00 [INF] Handling CreateSupplierCommand
2025-10-17 10:24:13.067 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Suppliers" ("Id", "Address", "ContactPerson", "CreatedAt", "CreatedBy", "Email", "Name", "Phone", "Status", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-10-17 10:24:13.074 +03:00 [INF] Successfully handled CreateSupplierCommand
2025-10-17 10:24:13.078 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'salini.api.Application.DTOs.Supplier.SupplierDto'.
2025-10-17 10:24:13.111 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.CreateSupplier (salini.api.API) in 115.7745ms
2025-10-17 10:24:13.115 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.CreateSupplier (salini.api.API)'
2025-10-17 10:24:13.117 +03:00 [INF] HTTP POST /api/Suppliers responded 201 in 132.5729 ms
2025-10-17 10:24:13.119 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Suppliers - 201 null application/json; charset=utf-8 138.5122ms
2025-10-17 10:24:17.849 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:24:17.852 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:17.854 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.6590 ms
2025-10-17 10:24:17.856 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 7.1902ms
2025-10-17 10:24:17.860 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:24:17.863 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:17.864 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:24:17.865 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:24:17.867 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:24:17.872 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:24:17.886 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:24:17.890 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:24:17.891 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:24:17.894 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 26.8266ms
2025-10-17 10:24:17.898 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:24:17.900 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 37.7366 ms
2025-10-17 10:24:17.903 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 43.3757ms
2025-10-17 10:24:19.113 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:24:19.115 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.116 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:24:19.116 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 1.0912 ms
2025-10-17 10:24:19.120 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.118 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:24:19.124 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:24:19.128 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:24:19.132 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:24:19.133 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 19.7202ms
2025-10-17 10:24:19.134 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 14.5846 ms
2025-10-17 10:24:19.137 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.140 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.142 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.156 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 13.8407 ms
2025-10-17 10:24:19.151 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:24:19.152 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 36.823ms
2025-10-17 10:24:19.153 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 16.5079 ms
2025-10-17 10:24:19.154 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 14.5998 ms
2025-10-17 10:24:19.146 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.159 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 30.8722ms
2025-10-17 10:24:19.162 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:24:19.168 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 50.3161ms
2025-10-17 10:24:19.169 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 45.0749ms
2025-10-17 10:24:19.170 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 24.6301 ms
2025-10-17 10:24:19.176 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:24:19.179 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:24:19.186 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:24:19.189 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 57.3513ms
2025-10-17 10:24:19.191 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:24:19.192 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:24:19.197 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.199 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.208 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:24:19.207 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:24:19.206 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:24:19.208 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:24:19.210 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:24:19.214 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:24:19.217 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:24:19.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:24:19.219 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:24:19.223 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:24:19.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:24:19.229 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:24:19.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:24:19.232 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 26.7933ms
2025-10-17 10:24:19.238 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:24:19.240 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:24:19.248 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.248 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 86.3725 ms
2025-10-17 10:24:19.250 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:24:19.251 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 100.4435ms
2025-10-17 10:24:19.255 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:24:19.262 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:24:19.267 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:24:19.270 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:24:19.279 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:24:19.283 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:24:19.283 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:24:19.285 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 23.4232ms
2025-10-17 10:24:19.289 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:24:19.290 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 42.2407 ms
2025-10-17 10:24:19.290 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:24:19.292 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 54.1971ms
2025-10-17 10:24:19.294 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:24:19.306 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:24:19.306 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:24:19.308 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:24:19.311 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:24:19.313 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:24:19.315 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:24:19.316 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 97.1962ms
2025-10-17 10:24:19.316 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:24:19.317 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:24:19.317 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 94.2832ms
2025-10-17 10:24:19.318 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:24:19.323 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:19.325 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:24:19.326 +03:00 [INF] HTTP GET /api/Items responded 200 in 129.0089 ms
2025-10-17 10:24:19.327 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:24:19.328 +03:00 [INF] HTTP GET /api/Projects responded 200 in 129.0742 ms
2025-10-17 10:24:19.331 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 147.3304ms
2025-10-17 10:24:19.331 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:24:19.333 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 146.366ms
2025-10-17 10:24:19.333 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:24:19.338 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:24:19.341 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:24:19.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:24:19.344 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 129.9897ms
2025-10-17 10:24:19.348 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:24:19.348 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:24:19.350 +03:00 [INF] HTTP GET /api/Employees responded 200 in 171.0918 ms
2025-10-17 10:24:19.353 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:24:19.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 188.6174ms
2025-10-17 10:24:19.356 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:24:19.359 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 21.8354ms
2025-10-17 10:24:19.360 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:24:19.361 +03:00 [INF] HTTP GET /api/Items responded 200 in 38.3931 ms
2025-10-17 10:24:19.363 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 45.9917ms
2025-10-17 10:24:47.676 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders - null null
2025-10-17 10:24:47.681 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:47.682 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.5805 ms
2025-10-17 10:24:47.685 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders - 204 null null 8.9966ms
2025-10-17 10:24:47.690 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - application/json 266
2025-10-17 10:24:47.694 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:47.696 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API)'
2025-10-17 10:24:47.703 +03:00 [INF] Route matched with {action = "CreatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] CreatePurchaseOrder(salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderCreateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:24:47.734 +03:00 [INF] Handling CreatePurchaseOrderCommand
2025-10-17 10:24:47.867 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = DateTime), @p13='?', @p14='?', @p15='?' (DbType = DateTime), @p16='?', @p17='?', @p18='?', @p19='?', @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?' (DbType = DateTime), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseOrders" ("Id", "ActualDeliveryDate", "CreatedAt", "CreatedBy", "ExpectedDeliveryDate", "Notes", "PoDate", "PoNumber", "ProjectId", "Status", "SupplierId", "TotalAmount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "PurchaseOrderItems" ("Id", "CreatedAt", "CreatedBy", "ItemId", "Notes", "PurchaseOrderId", "Quantity", "UnitPrice", "UpdatedAt", "UpdatedBy")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-10-17 10:24:47.902 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'salini.api.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-17 10:24:47.918 +03:00 [ERR] Error handling CreatePurchaseOrderCommand
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Commands.CreatePurchaseOrder.CreatePurchaseOrderCommandHandler.Handle(CreatePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\CreatePurchaseOrder\CreatePurchaseOrderCommand.cs:line 65
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
2025-10-17 10:24:47.932 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API) in 225.9518ms
2025-10-17 10:24:47.936 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API)'
2025-10-17 10:24:47.940 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Commands.CreatePurchaseOrder.CreatePurchaseOrderCommandHandler.Handle(CreatePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\CreatePurchaseOrder\CreatePurchaseOrderCommand.cs:line 65
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
   at salini.api.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\ValidationBehavior.cs:line 36
   at salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder(PurchaseOrderCreateDto createDto) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 85
   at lambda_method556(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-17 10:24:47.973 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:24:47.974 +03:00 [INF] Executing endpoint '/error'
2025-10-17 10:24:47.985 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 10:24:48.004 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 10:24:48.019 +03:00 [INF] Executed endpoint '/error'
2025-10-17 10:24:48.021 +03:00 [ERR] HTTP POST /api/PurchaseOrders responded 500 in 326.5434 ms
2025-10-17 10:24:48.023 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - 500 null application/problem+json 333.6342ms
2025-10-17 10:27:25.839 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders - null null
2025-10-17 10:27:25.842 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:27:25.845 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.2382 ms
2025-10-17 10:27:25.849 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders - 204 null null 10.4339ms
2025-10-17 10:27:25.854 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - application/json 266
2025-10-17 10:27:25.860 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:27:25.862 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API)'
2025-10-17 10:27:25.866 +03:00 [INF] Route matched with {action = "CreatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] CreatePurchaseOrder(salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderCreateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:27:25.871 +03:00 [INF] Handling CreatePurchaseOrderCommand
2025-10-17 10:27:25.877 +03:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = DateTime), @p13='?', @p14='?', @p15='?' (DbType = DateTime), @p16='?', @p17='?', @p18='?', @p19='?', @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?' (DbType = DateTime), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseOrders" ("Id", "ActualDeliveryDate", "CreatedAt", "CreatedBy", "ExpectedDeliveryDate", "Notes", "PoDate", "PoNumber", "ProjectId", "Status", "SupplierId", "TotalAmount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "PurchaseOrderItems" ("Id", "CreatedAt", "CreatedBy", "ItemId", "Notes", "PurchaseOrderId", "Quantity", "UnitPrice", "UpdatedAt", "UpdatedBy")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-10-17 10:27:25.890 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'salini.api.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-17 10:27:25.907 +03:00 [ERR] Error handling CreatePurchaseOrderCommand
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Commands.CreatePurchaseOrder.CreatePurchaseOrderCommandHandler.Handle(CreatePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\CreatePurchaseOrder\CreatePurchaseOrderCommand.cs:line 65
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
2025-10-17 10:27:25.926 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API) in 55.7218ms
2025-10-17 10:27:25.930 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API)'
2025-10-17 10:27:25.933 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Commands.CreatePurchaseOrder.CreatePurchaseOrderCommandHandler.Handle(CreatePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\CreatePurchaseOrder\CreatePurchaseOrderCommand.cs:line 65
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
   at salini.api.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\ValidationBehavior.cs:line 36
   at salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder(PurchaseOrderCreateDto createDto) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 85
   at lambda_method556(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-17 10:27:25.963 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:27:25.964 +03:00 [INF] Executing endpoint '/error'
2025-10-17 10:27:25.966 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 10:27:25.971 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 10:27:25.978 +03:00 [INF] Executed endpoint '/error'
2025-10-17 10:27:25.980 +03:00 [ERR] HTTP POST /api/PurchaseOrders responded 500 in 119.8022 ms
2025-10-17 10:27:25.982 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - 500 null application/problem+json 127.6667ms
2025-10-17 10:27:35.760 +03:00 [INF] Application is shutting down...
2025-10-17 10:27:54.891 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 10:27:56.792 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 10:27:57.155 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:27:57.312 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:27:57.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:27:57.381 +03:00 [INF] Database seeded successfully
2025-10-17 10:27:57.623 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 10:27:57.627 +03:00 [INF] Starting Salini AMS API
2025-10-17 10:27:57.721 +03:00 [INF] Now listening on: http://localhost:5000
2025-10-17 10:27:57.724 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-17 10:27:57.725 +03:00 [INF] Hosting environment: Development
2025-10-17 10:27:57.727 +03:00 [INF] Content root path: C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API
2025-10-17 10:28:12.241 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders - null null
2025-10-17 10:28:12.357 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-17 10:28:12.366 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:28:12.373 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 7.2162 ms
2025-10-17 10:28:12.387 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders - 204 null null 149.6321ms
2025-10-17 10:28:12.395 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - application/json 266
2025-10-17 10:28:12.417 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:28:12.601 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API)'
2025-10-17 10:28:12.633 +03:00 [INF] Route matched with {action = "CreatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] CreatePurchaseOrder(salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderCreateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:28:12.779 +03:00 [INF] Handling CreatePurchaseOrderCommand
2025-10-17 10:28:13.358 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = DateTime), @p13='?', @p14='?', @p15='?' (DbType = DateTime), @p16='?', @p17='?', @p18='?', @p19='?', @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?' (DbType = DateTime), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseOrders" ("Id", "ActualDeliveryDate", "CreatedAt", "CreatedBy", "ExpectedDeliveryDate", "Notes", "PoDate", "PoNumber", "ProjectId", "Status", "SupplierId", "TotalAmount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "PurchaseOrderItems" ("Id", "CreatedAt", "CreatedBy", "ItemId", "Notes", "PurchaseOrderId", "Quantity", "UnitPrice", "UpdatedAt", "UpdatedBy")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-10-17 10:28:13.407 +03:00 [INF] Successfully handled CreatePurchaseOrderCommand
2025-10-17 10:28:13.424 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 10:28:13.527 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API) in 884.6334ms
2025-10-17 10:28:13.531 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API)'
2025-10-17 10:28:13.535 +03:00 [INF] HTTP POST /api/PurchaseOrders responded 201 in 1118.4310 ms
2025-10-17 10:28:13.550 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - 201 null application/json; charset=utf-8 1154.8477ms
2025-10-17 10:28:13.558 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:28:13.565 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:28:13.566 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.1820 ms
2025-10-17 10:28:13.569 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 10.7572ms
2025-10-17 10:28:13.576 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:28:13.592 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:28:13.600 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:28:13.620 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:28:13.639 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:28:13.755 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:28:13.962 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:28:13.979 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:28:13.982 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:28:14.005 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 380.2101ms
2025-10-17 10:28:14.008 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:28:14.010 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 417.9880 ms
2025-10-17 10:28:14.014 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 438.6443ms
2025-10-17 10:28:21.953 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/1 - null null
2025-10-17 10:28:21.955 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:28:21.957 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/1 responded 204 in 2.4019 ms
2025-10-17 10:28:21.960 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/1 - 204 null null 7.1893ms
2025-10-17 10:28:21.963 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/PurchaseOrders/1 - application/json null
2025-10-17 10:28:21.966 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:28:21.971 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API)'
2025-10-17 10:28:21.978 +03:00 [INF] Route matched with {action = "DeletePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePurchaseOrder(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:28:22.029 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy"
FROM "PurchaseOrders" AS p
WHERE p."Id" = @__p_0
LIMIT 1
2025-10-17 10:28:22.035 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API) in 52.8408ms
2025-10-17 10:28:22.036 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API)'
2025-10-17 10:28:22.042 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Purchase order with ID 1 not found.
   at salini.api.Application.Features.PurchaseOrders.Commands.DeletePurchaseOrder.DeletePurchaseOrderCommandHandler.Handle(DeletePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\DeletePurchaseOrder\DeletePurchaseOrderCommand.cs:line 26
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder(String id) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 119
   at lambda_method582(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-17 10:28:22.085 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:28:22.086 +03:00 [INF] Executing endpoint '/error'
2025-10-17 10:28:22.095 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 10:28:22.111 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 10:28:22.125 +03:00 [INF] Executed endpoint '/error'
2025-10-17 10:28:22.127 +03:00 [ERR] HTTP DELETE /api/PurchaseOrders/1 responded 500 in 160.7203 ms
2025-10-17 10:28:22.131 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/PurchaseOrders/1 - 500 null application/problem+json 168.0507ms
2025-10-17 10:29:06.295 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/PurchaseOrders/test-id - null 0
2025-10-17 10:29:06.298 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:29:06.304 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:29:06.305 +03:00 [INF] HTTP DELETE /api/PurchaseOrders/test-id responded 401 in 7.7082 ms
2025-10-17 10:29:06.308 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/PurchaseOrders/test-id - 401 0 null 13.0403ms
2025-10-17 10:30:16.636 +03:00 [INF] Application is shutting down...
2025-10-17 10:30:29.834 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 10:30:31.923 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 10:30:32.305 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:30:32.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:30:32.483 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 10:30:32.558 +03:00 [INF] Database seeded successfully
2025-10-17 10:30:32.813 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 10:30:32.819 +03:00 [INF] Starting Salini AMS API
2025-10-17 10:30:32.937 +03:00 [INF] Now listening on: http://localhost:5000
2025-10-17 10:30:32.940 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-17 10:30:32.942 +03:00 [INF] Hosting environment: Development
2025-10-17 10:30:32.944 +03:00 [INF] Content root path: C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API
2025-10-17 10:30:38.270 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/1 - null null
2025-10-17 10:30:38.359 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-17 10:30:38.365 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:30:38.374 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/1 responded 204 in 6.5099 ms
2025-10-17 10:30:38.385 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/1 - 204 null null 116.3614ms
2025-10-17 10:30:38.391 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/PurchaseOrders/1 - application/json null
2025-10-17 10:30:38.410 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:30:38.585 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API)'
2025-10-17 10:30:38.616 +03:00 [INF] Route matched with {action = "DeletePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePurchaseOrder(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:30:38.854 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy"
FROM "PurchaseOrders" AS p
WHERE p."Id" = @__p_0
LIMIT 1
2025-10-17 10:30:38.878 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API) in 250.0599ms
2025-10-17 10:30:38.881 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API)'
2025-10-17 10:30:38.887 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Purchase order with ID 1 not found.
   at salini.api.Application.Features.PurchaseOrders.Commands.DeletePurchaseOrder.DeletePurchaseOrderCommandHandler.Handle(DeletePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\DeletePurchaseOrder\DeletePurchaseOrderCommand.cs:line 27
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder(String id) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 119
   at lambda_method294(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-17 10:30:38.945 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:30:38.948 +03:00 [INF] Executing endpoint '/error'
2025-10-17 10:30:38.959 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 10:30:39.000 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 10:30:39.039 +03:00 [INF] Executed endpoint '/error'
2025-10-17 10:30:39.045 +03:00 [ERR] HTTP DELETE /api/PurchaseOrders/1 responded 500 in 636.8944 ms
2025-10-17 10:30:39.054 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/PurchaseOrders/1 - 500 null application/problem+json 663.5517ms
2025-10-17 10:31:04.484 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/1 - null null
2025-10-17 10:31:04.491 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:04.494 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/1 responded 204 in 2.4191 ms
2025-10-17 10:31:04.496 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/1 - 204 null null 11.643ms
2025-10-17 10:31:04.500 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5000/api/PurchaseOrders/1 - application/json null
2025-10-17 10:31:04.502 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:04.508 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API)'
2025-10-17 10:31:04.509 +03:00 [INF] Route matched with {action = "DeletePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePurchaseOrder(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:31:04.520 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy"
FROM "PurchaseOrders" AS p
WHERE p."Id" = @__p_0
LIMIT 1
2025-10-17 10:31:04.525 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API) in 13.1216ms
2025-10-17 10:31:04.529 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder (salini.api.API)'
2025-10-17 10:31:04.532 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: Purchase order with ID 1 not found.
   at salini.api.Application.Features.PurchaseOrders.Commands.DeletePurchaseOrder.DeletePurchaseOrderCommandHandler.Handle(DeletePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\DeletePurchaseOrder\DeletePurchaseOrderCommand.cs:line 27
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at salini.api.API.Controllers.PurchaseOrdersController.DeletePurchaseOrder(String id) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 119
   at lambda_method294(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-17 10:31:04.546 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:04.548 +03:00 [INF] Executing endpoint '/error'
2025-10-17 10:31:04.551 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 10:31:04.556 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 10:31:04.559 +03:00 [INF] Executed endpoint '/error'
2025-10-17 10:31:04.561 +03:00 [ERR] HTTP DELETE /api/PurchaseOrders/1 responded 500 in 58.6686 ms
2025-10-17 10:31:04.631 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5000/api/PurchaseOrders/1 - 500 null application/problem+json 131.5375ms
2025-10-17 10:31:09.077 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:31:09.079 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:31:09.080 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.081 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:31:09.083 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.084 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 4.3095 ms
2025-10-17 10:31:09.084 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:31:09.087 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.087 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:31:09.088 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 4.6527 ms
2025-10-17 10:31:09.089 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:31:09.090 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 13.1754ms
2025-10-17 10:31:09.093 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.093 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 6.5437 ms
2025-10-17 10:31:09.095 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.098 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 18.6768ms
2025-10-17 10:31:09.100 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.105 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:31:09.106 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 13.6586 ms
2025-10-17 10:31:09.109 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 27.7805ms
2025-10-17 10:31:09.110 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 15.1582 ms
2025-10-17 10:31:09.116 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:31:09.117 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 16.2203 ms
2025-10-17 10:31:09.121 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 36.9185ms
2025-10-17 10:31:09.123 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:31:09.125 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 37.7686ms
2025-10-17 10:31:09.125 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.132 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 42.2139ms
2025-10-17 10:31:09.132 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.138 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:31:09.142 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.154 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:31:09.155 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:31:09.160 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.163 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:31:09.171 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:31:09.175 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:31:09.175 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:31:09.177 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:31:09.177 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:31:09.195 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:31:09.195 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:31:09.195 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:31:09.195 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:31:09.286 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:31:09.344 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:31:09.345 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:31:09.346 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:31:09.426 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:31:09.430 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:31:09.435 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:31:09.435 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:31:09.449 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:31:09.449 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:31:09.479 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:31:09.480 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 303.0246ms
2025-10-17 10:31:09.480 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 300.9596ms
2025-10-17 10:31:09.481 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:31:09.483 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:31:09.486 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:31:09.486 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:31:09.487 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:31:09.491 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.497 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:09.497 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:31:09.498 +03:00 [INF] HTTP GET /api/Items responded 200 in 355.6595 ms
2025-10-17 10:31:09.499 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 374.1715 ms
2025-10-17 10:31:09.512 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 406.3201ms
2025-10-17 10:31:09.502 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:31:09.502 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:31:09.507 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 383.5925ms
2025-10-17 10:31:09.500 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:31:09.522 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:31:09.528 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:31:09.529 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:31:09.539 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:31:09.542 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:31:09.542 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:31:09.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:31:09.551 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:31:09.561 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:31:09.564 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:31:09.566 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 381.5697ms
2025-10-17 10:31:09.572 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 385.9344ms
2025-10-17 10:31:09.573 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:31:09.578 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:31:09.579 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:31:09.582 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:31:09.584 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:31:09.586 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:31:09.587 +03:00 [INF] HTTP GET /api/Projects responded 200 in 427.2632 ms
2025-10-17 10:31:09.588 +03:00 [INF] HTTP GET /api/Employees responded 200 in 456.7239 ms
2025-10-17 10:31:09.591 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 53.0735ms
2025-10-17 10:31:09.592 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 51.5867ms
2025-10-17 10:31:09.596 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 458.733ms
2025-10-17 10:31:09.602 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 485.8154ms
2025-10-17 10:31:09.603 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:31:09.604 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:31:09.615 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 124.6532 ms
2025-10-17 10:31:09.617 +03:00 [INF] HTTP GET /api/Items responded 200 in 120.6622 ms
2025-10-17 10:31:09.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 138.1531ms
2025-10-17 10:31:09.621 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 137.7314ms
2025-10-17 10:31:23.714 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders - null null
2025-10-17 10:31:23.717 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:23.719 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.5167 ms
2025-10-17 10:31:23.722 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders - 204 null null 7.9762ms
2025-10-17 10:31:23.726 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - application/json 264
2025-10-17 10:31:23.729 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:23.730 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API)'
2025-10-17 10:31:23.738 +03:00 [INF] Route matched with {action = "CreatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] CreatePurchaseOrder(salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderCreateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:31:23.787 +03:00 [INF] Handling CreatePurchaseOrderCommand
2025-10-17 10:31:24.151 +03:00 [ERR] Failed executing DbCommand (26ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = DateTime), @p13='?', @p14='?', @p15='?' (DbType = DateTime), @p16='?', @p17='?', @p18='?', @p19='?', @p20='?' (DbType = Int32), @p21='?' (DbType = Decimal), @p22='?' (DbType = DateTime), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseOrders" ("Id", "ActualDeliveryDate", "CreatedAt", "CreatedBy", "ExpectedDeliveryDate", "Notes", "PoDate", "PoNumber", "ProjectId", "Status", "SupplierId", "TotalAmount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO "PurchaseOrderItems" ("Id", "CreatedAt", "CreatedBy", "ItemId", "Notes", "PurchaseOrderId", "Quantity", "UnitPrice", "UpdatedAt", "UpdatedBy")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-10-17 10:31:24.212 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'salini.api.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_PurchaseOrders_PoNumber"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_PurchaseOrders_PoNumber"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PurchaseOrders
    ConstraintName: IX_PurchaseOrders_PoNumber
    File: nbtinsert.c
    Line: 670
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_PurchaseOrders_PoNumber"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_PurchaseOrders_PoNumber"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PurchaseOrders
    ConstraintName: IX_PurchaseOrders_PoNumber
    File: nbtinsert.c
    Line: 670
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-10-17 10:31:24.232 +03:00 [ERR] Error handling CreatePurchaseOrderCommand
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_PurchaseOrders_PoNumber"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_PurchaseOrders_PoNumber"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PurchaseOrders
    ConstraintName: IX_PurchaseOrders_PoNumber
    File: nbtinsert.c
    Line: 670
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Commands.CreatePurchaseOrder.CreatePurchaseOrderCommandHandler.Handle(CreatePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\CreatePurchaseOrder\CreatePurchaseOrderCommand.cs:line 67
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
2025-10-17 10:31:24.246 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API) in 505.146ms
2025-10-17 10:31:24.248 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder (salini.api.API)'
2025-10-17 10:31:24.249 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_PurchaseOrders_PoNumber"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_PurchaseOrders_PoNumber"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PurchaseOrders
    ConstraintName: IX_PurchaseOrders_PoNumber
    File: nbtinsert.c
    Line: 670
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Commands.CreatePurchaseOrder.CreatePurchaseOrderCommandHandler.Handle(CreatePurchaseOrderCommand request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Commands\CreatePurchaseOrder\CreatePurchaseOrderCommand.cs:line 67
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
   at salini.api.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\ValidationBehavior.cs:line 36
   at salini.api.API.Controllers.PurchaseOrdersController.CreatePurchaseOrder(PurchaseOrderCreateDto createDto) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 85
   at lambda_method353(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-17 10:31:24.271 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:31:24.273 +03:00 [INF] Executing endpoint '/error'
2025-10-17 10:31:24.274 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 10:31:24.277 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 10:31:24.280 +03:00 [INF] Executed endpoint '/error'
2025-10-17 10:31:24.281 +03:00 [ERR] HTTP POST /api/PurchaseOrders responded 500 in 552.1898 ms
2025-10-17 10:31:24.283 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - 500 null application/problem+json 557.3341ms
2025-10-17 10:32:20.284 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - application/json 230
2025-10-17 10:32:20.291 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 10:32:20.300 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 10:32:20.302 +03:00 [INF] HTTP POST /api/PurchaseOrders responded 401 in 12.4611 ms
2025-10-17 10:32:20.307 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/PurchaseOrders - 401 0 null 23.3614ms
2025-10-17 10:34:35.102 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:34:35.105 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:34:35.106 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 0.9414 ms
2025-10-17 10:34:35.108 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 5.3231ms
2025-10-17 10:34:35.114 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:34:35.119 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:34:35.123 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:34:35.132 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:34:35.142 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:34:35.171 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:34:35.223 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:34:35.235 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:34:35.238 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:34:35.261 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 124.6922ms
2025-10-17 10:34:35.265 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:34:35.267 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 148.3596 ms
2025-10-17 10:34:35.271 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 156.4918ms
2025-10-17 10:37:55.068 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:37:55.074 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:37:55.075 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.8344 ms
2025-10-17 10:37:55.079 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 11.76ms
2025-10-17 10:37:55.087 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:37:55.091 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:37:55.095 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:37:55.097 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:37:55.103 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:37:55.204 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:37:55.423 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:37:55.437 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:37:55.439 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:37:55.442 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 340.7214ms
2025-10-17 10:37:55.446 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:37:55.449 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 357.2368 ms
2025-10-17 10:37:55.455 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 368.7304ms
2025-10-17 10:39:12.901 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:39:12.953 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:13.075 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 121.8568 ms
2025-10-17 10:39:13.181 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 279.9288ms
2025-10-17 10:39:13.218 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:39:13.234 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:13.236 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:39:13.241 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:39:13.251 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:39:13.270 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:39:13.431 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:39:13.629 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:39:13.638 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:39:13.720 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 470.114ms
2025-10-17 10:39:13.771 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:39:13.814 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 579.9289 ms
2025-10-17 10:39:13.832 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 613.7634ms
2025-10-17 10:39:18.580 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:39:18.584 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:18.586 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.9580 ms
2025-10-17 10:39:18.589 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 8.7529ms
2025-10-17 10:39:18.595 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:39:18.600 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:18.603 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:39:18.607 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:39:18.655 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:39:18.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:39:18.682 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:39:18.707 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:39:18.714 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:39:18.718 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 64.0396ms
2025-10-17 10:39:18.733 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:39:18.751 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 151.6088 ms
2025-10-17 10:39:18.765 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 170.0368ms
2025-10-17 10:39:27.895 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - null null
2025-10-17 10:39:27.897 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:27.898 +03:00 [INF] HTTP OPTIONS /api/MasterData/statistics responded 204 in 0.9817 ms
2025-10-17 10:39:27.900 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - 204 null null 5.0455ms
2025-10-17 10:39:27.904 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - application/json null
2025-10-17 10:39:27.910 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:27.912 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 10:39:27.922 +03:00 [INF] Route matched with {action = "GetMasterDataStatistics", controller = "MasterData"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.API.Controllers.MasterDataStatistics]] GetMasterDataStatistics() on controller salini.api.API.Controllers.MasterDataController (salini.api.API).
2025-10-17 10:39:27.940 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Companies" AS c
2025-10-17 10:39:27.953 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Departments" AS d
2025-10-17 10:39:27.960 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:39:27.980 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
WHERE e."Status" = 1
2025-10-17 10:39:27.991 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Assets" AS a
2025-10-17 10:39:28.000 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SimCards" AS s
2025-10-17 10:39:28.011 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SoftwareLicenses" AS s
2025-10-17 10:39:28.014 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.API.Controllers.MasterDataStatistics'.
2025-10-17 10:39:28.018 +03:00 [INF] Executed action salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API) in 93.055ms
2025-10-17 10:39:28.024 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 10:39:28.029 +03:00 [INF] HTTP GET /api/MasterData/statistics responded 200 in 118.7605 ms
2025-10-17 10:39:28.031 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - 200 null application/json; charset=utf-8 126.7686ms
2025-10-17 10:39:30.965 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - application/json null
2025-10-17 10:39:30.968 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:30.969 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 10:39:30.970 +03:00 [INF] Route matched with {action = "GetMasterDataStatistics", controller = "MasterData"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.API.Controllers.MasterDataStatistics]] GetMasterDataStatistics() on controller salini.api.API.Controllers.MasterDataController (salini.api.API).
2025-10-17 10:39:30.975 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Companies" AS c
2025-10-17 10:39:30.979 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Departments" AS d
2025-10-17 10:39:30.984 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:39:30.994 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
WHERE e."Status" = 1
2025-10-17 10:39:30.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Assets" AS a
2025-10-17 10:39:31.003 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SimCards" AS s
2025-10-17 10:39:31.017 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SoftwareLicenses" AS s
2025-10-17 10:39:31.033 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.API.Controllers.MasterDataStatistics'.
2025-10-17 10:39:31.035 +03:00 [INF] Executed action salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API) in 62.598ms
2025-10-17 10:39:31.037 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 10:39:31.049 +03:00 [INF] HTTP GET /api/MasterData/statistics responded 200 in 81.3326 ms
2025-10-17 10:39:31.052 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - 200 null application/json; charset=utf-8 87.02ms
2025-10-17 10:39:34.635 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:39:34.639 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:34.641 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.1316 ms
2025-10-17 10:39:34.643 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 8.4788ms
2025-10-17 10:39:34.647 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:39:34.651 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:34.653 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:39:34.654 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:39:34.657 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:39:34.659 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:39:34.664 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:39:34.668 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:39:34.670 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:39:34.673 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 16.7452ms
2025-10-17 10:39:34.674 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:39:34.676 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 24.7264 ms
2025-10-17 10:39:34.677 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 30.3866ms
2025-10-17 10:39:46.668 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - null null
2025-10-17 10:39:46.671 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:46.672 +03:00 [INF] HTTP OPTIONS /api/MasterData/statistics responded 204 in 1.4576 ms
2025-10-17 10:39:46.681 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - 204 null null 13.3358ms
2025-10-17 10:39:46.686 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - application/json null
2025-10-17 10:39:46.690 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:46.694 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 10:39:46.703 +03:00 [INF] Route matched with {action = "GetMasterDataStatistics", controller = "MasterData"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.API.Controllers.MasterDataStatistics]] GetMasterDataStatistics() on controller salini.api.API.Controllers.MasterDataController (salini.api.API).
2025-10-17 10:39:46.710 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Companies" AS c
2025-10-17 10:39:46.726 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Departments" AS d
2025-10-17 10:39:46.732 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:39:46.739 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
WHERE e."Status" = 1
2025-10-17 10:39:46.752 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Assets" AS a
2025-10-17 10:39:46.761 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SimCards" AS s
2025-10-17 10:39:46.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SoftwareLicenses" AS s
2025-10-17 10:39:46.771 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.API.Controllers.MasterDataStatistics'.
2025-10-17 10:39:46.774 +03:00 [INF] Executed action salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API) in 67.3179ms
2025-10-17 10:39:46.782 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 10:39:46.785 +03:00 [INF] HTTP GET /api/MasterData/statistics responded 200 in 94.2412 ms
2025-10-17 10:39:46.787 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - 200 null application/json; charset=utf-8 101.1495ms
2025-10-17 10:39:48.934 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:39:48.938 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:48.940 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.1782 ms
2025-10-17 10:39:48.944 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 9.1921ms
2025-10-17 10:39:48.949 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:39:48.954 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:39:48.956 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:39:48.960 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:39:48.963 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:39:48.966 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:39:48.979 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:39:48.983 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:39:48.984 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:39:48.989 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 26.1179ms
2025-10-17 10:39:48.994 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:39:48.997 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 42.5709 ms
2025-10-17 10:39:49.002 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 53.032ms
2025-10-17 10:41:28.458 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:41:28.464 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:28.466 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.4570 ms
2025-10-17 10:41:28.469 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 11.5083ms
2025-10-17 10:41:28.477 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:41:28.481 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:28.484 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:41:28.486 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:41:28.490 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:41:28.496 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:41:28.510 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:41:28.513 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:41:28.514 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:41:28.517 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 27.6315ms
2025-10-17 10:41:28.519 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:41:28.521 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 40.1557 ms
2025-10-17 10:41:28.525 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 47.6649ms
2025-10-17 10:41:39.593 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:41:39.594 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:41:39.595 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.597 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.597 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:41:39.598 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 3.3781 ms
2025-10-17 10:41:39.599 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.5802 ms
2025-10-17 10:41:39.601 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.601 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:41:39.603 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:41:39.603 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 10.0221ms
2025-10-17 10:41:39.604 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 9.8544ms
2025-10-17 10:41:39.606 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 4.9694 ms
2025-10-17 10:41:39.608 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:41:39.610 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.613 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.617 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:41:39.621 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:41:39.624 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 26.6466ms
2025-10-17 10:41:39.625 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.627 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 17.2266 ms
2025-10-17 10:41:39.628 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 15.1076 ms
2025-10-17 10:41:39.632 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.636 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.641 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:41:39.642 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:41:39.645 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 44.2768ms
2025-10-17 10:41:39.646 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 43.8729ms
2025-10-17 10:41:39.649 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 17.1499 ms
2025-10-17 10:41:39.652 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:41:39.653 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.655 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:41:39.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:41:39.667 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 49.6704ms
2025-10-17 10:41:39.668 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:41:39.670 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:41:39.674 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:41:39.675 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.680 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:41:39.681 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:41:39.684 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:41:39.687 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:41:39.687 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:41:39.688 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:41:39.698 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:41:39.722 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:41:39.750 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:41:39.751 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:41:39.760 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:41:39.761 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:41:39.763 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:41:39.768 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:41:39.772 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:41:39.775 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:41:39.781 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 101.3087ms
2025-10-17 10:41:39.785 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:41:39.787 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:41:39.788 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:41:39.790 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.791 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:41:39.792 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 119.5934ms
2025-10-17 10:41:39.792 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 156.1119 ms
2025-10-17 10:41:39.794 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:41:39.799 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:41:39.796 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:41:39.797 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:41:39.798 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 176.3253ms
2025-10-17 10:41:39.799 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:41:39.795 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 108.1019ms
2025-10-17 10:41:39.801 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:41:39.802 +03:00 [INF] HTTP GET /api/Employees responded 200 in 176.3220 ms
2025-10-17 10:41:39.807 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:41:39.813 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:41:39.816 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 207.7416ms
2025-10-17 10:41:39.816 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:41:39.822 +03:00 [INF] HTTP GET /api/Items responded 200 in 168.8486 ms
2025-10-17 10:41:39.822 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:41:39.830 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:41:39.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 189.2723ms
2025-10-17 10:41:39.832 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:41:39.834 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:41:39.837 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:41:39.842 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:41:39.843 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:41:39.845 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:41:39.848 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 47.7569ms
2025-10-17 10:41:39.849 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:41:39.850 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:41:39.852 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 61.8578 ms
2025-10-17 10:41:39.851 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 157.7413ms
2025-10-17 10:41:39.851 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:41:39.855 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 69.5563ms
2025-10-17 10:41:39.859 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:41:39.867 +03:00 [INF] HTTP GET /api/Projects responded 200 in 191.9670 ms
2025-10-17 10:41:39.867 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:41:39.870 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 211.4128ms
2025-10-17 10:41:39.873 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:41:39.877 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:41:39.879 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 37.0884ms
2025-10-17 10:41:39.881 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:41:39.883 +03:00 [INF] HTTP GET /api/Items responded 200 in 76.0804 ms
2025-10-17 10:41:39.885 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 87.9934ms
2025-10-17 10:42:04.599 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 10:42:04.601 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:42:04.602 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 0.8378 ms
2025-10-17 10:42:04.604 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 5.4497ms
2025-10-17 10:42:04.608 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json 163
2025-10-17 10:42:04.612 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:42:04.613 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 10:42:04.621 +03:00 [INF] Route matched with {action = "UpdatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] UpdatePurchaseOrder(System.String, salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderUpdateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:42:04.632 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-17 10:42:04.645 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API) in 22.9134ms
2025-10-17 10:42:04.647 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 10:42:04.648 +03:00 [INF] HTTP PUT /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 400 in 36.6270 ms
2025-10-17 10:42:04.650 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 400 null application/problem+json; charset=utf-8 42.1183ms
2025-10-17 10:44:30.830 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 10:44:30.832 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:30.833 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 1.0163 ms
2025-10-17 10:44:30.835 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 5.7362ms
2025-10-17 10:44:30.840 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json 163
2025-10-17 10:44:30.844 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:30.846 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 10:44:30.847 +03:00 [INF] Route matched with {action = "UpdatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] UpdatePurchaseOrder(System.String, salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderUpdateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:44:30.850 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-17 10:44:30.852 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API) in 2.4475ms
2025-10-17 10:44:30.853 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 10:44:30.855 +03:00 [INF] HTTP PUT /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 400 in 10.5563 ms
2025-10-17 10:44:30.857 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 400 null application/problem+json; charset=utf-8 16.922ms
2025-10-17 10:44:38.542 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:44:38.548 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:38.553 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 4.9116 ms
2025-10-17 10:44:38.556 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 14.2487ms
2025-10-17 10:44:38.560 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:44:38.564 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:38.565 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:44:38.567 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:44:38.570 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:44:38.578 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:44:38.610 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:44:38.617 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:44:38.619 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:44:38.625 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 55.2854ms
2025-10-17 10:44:38.629 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:44:38.631 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 67.0727 ms
2025-10-17 10:44:38.633 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 72.8524ms
2025-10-17 10:44:45.237 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:44:45.239 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:44:45.240 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.242 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.244 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.8165 ms
2025-10-17 10:44:45.243 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 2.7946 ms
2025-10-17 10:44:45.242 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:44:45.245 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 6.0665ms
2025-10-17 10:44:45.245 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:44:45.248 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 10.6525ms
2025-10-17 10:44:45.250 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.252 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:44:45.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:44:45.255 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.258 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:44:45.259 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 8.4402 ms
2025-10-17 10:44:45.262 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.272 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 9.9452 ms
2025-10-17 10:44:45.265 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 10.0282 ms
2025-10-17 10:44:45.270 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.272 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 29.7386ms
2025-10-17 10:44:45.265 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.274 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 21.2972ms
2025-10-17 10:44:45.275 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 29.7625ms
2025-10-17 10:44:45.277 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:44:45.285 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:44:45.287 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:44:45.289 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:44:45.293 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:44:45.294 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:44:45.295 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.298 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.304 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:44:45.306 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:44:45.307 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:44:45.308 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:44:45.311 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:44:45.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:44:45.312 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:44:45.312 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:44:45.317 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:44:45.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:44:45.324 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:44:45.325 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:44:45.326 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:44:45.328 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:44:45.329 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:44:45.330 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:44:45.335 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:44:45.338 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 34.5822ms
2025-10-17 10:44:45.341 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:44:45.342 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:44:45.343 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:44:45.346 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.346 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:44:45.349 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:44:45.351 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 81.4940 ms
2025-10-17 10:44:45.354 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:44:45.354 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:44:45.355 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 39.4878ms
2025-10-17 10:44:45.357 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 98.7964ms
2025-10-17 10:44:45.354 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:44:45.359 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:44:45.365 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 59.6095ms
2025-10-17 10:44:45.367 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:44:45.375 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:44:45.375 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:44:45.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:44:45.378 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:44:45.379 +03:00 [INF] HTTP GET /api/Items responded 200 in 84.1345 ms
2025-10-17 10:44:45.382 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:44:45.384 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:44:45.386 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 63.2341ms
2025-10-17 10:44:45.389 +03:00 [INF] HTTP GET /api/Employees responded 200 in 123.4292 ms
2025-10-17 10:44:45.391 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 103.5495ms
2025-10-17 10:44:45.392 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:44:45.394 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:44:45.395 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 142.1071ms
2025-10-17 10:44:45.396 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:44:45.404 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:44:45.405 +03:00 [INF] HTTP GET /api/Projects responded 200 in 106.3996 ms
2025-10-17 10:44:45.410 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:44:45.411 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:44:45.414 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 123.4745ms
2025-10-17 10:44:45.415 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:44:45.422 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:44:45.422 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:44:45.423 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 39.5519ms
2025-10-17 10:44:45.428 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:44:45.429 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 82.3986 ms
2025-10-17 10:44:45.428 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:44:45.431 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 90.549ms
2025-10-17 10:44:45.433 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:44:45.443 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:44:45.445 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 34.4039ms
2025-10-17 10:44:45.447 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:44:45.447 +03:00 [INF] HTTP GET /api/Items responded 200 in 65.5324 ms
2025-10-17 10:44:45.451 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 76.1432ms
2025-10-17 10:45:02.255 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 10:45:02.261 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:45:02.263 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 1.9754 ms
2025-10-17 10:45:02.265 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 10.5564ms
2025-10-17 10:45:02.270 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json 163
2025-10-17 10:45:02.272 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:45:02.275 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 10:45:02.277 +03:00 [INF] Route matched with {action = "UpdatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] UpdatePurchaseOrder(System.String, salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderUpdateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:45:02.280 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-17 10:45:02.283 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API) in 3.9831ms
2025-10-17 10:45:02.285 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 10:45:02.286 +03:00 [INF] HTTP PUT /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 400 in 13.8597 ms
2025-10-17 10:45:02.288 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 400 null application/problem+json; charset=utf-8 18.3488ms
2025-10-17 10:46:10.936 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 10:46:10.943 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:46:10.945 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 2.3044 ms
2025-10-17 10:46:10.950 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 13.2269ms
2025-10-17 10:46:10.955 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json 207
2025-10-17 10:46:10.960 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:46:10.963 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 10:46:10.965 +03:00 [INF] Route matched with {action = "UpdatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] UpdatePurchaseOrder(System.String, salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderUpdateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:46:10.979 +03:00 [INF] Handling UpdatePurchaseOrderCommand
2025-10-17 10:46:10.990 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy"
FROM "PurchaseOrders" AS p
WHERE p."Id" = @__p_0
LIMIT 1
2025-10-17 10:46:11.032 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?', @p0='?', @p1='?' (DbType = DateTime), @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "PurchaseOrders" SET "ProjectId" = @p0, "UpdatedAt" = @p1, "UpdatedBy" = @p2
WHERE "Id" = @p3;
2025-10-17 10:46:11.052 +03:00 [INF] Successfully handled UpdatePurchaseOrderCommand
2025-10-17 10:46:11.054 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 10:46:11.072 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API) in 100.1485ms
2025-10-17 10:46:11.075 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 10:46:11.077 +03:00 [INF] HTTP PUT /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 117.2192 ms
2025-10-17 10:46:11.080 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 125.0314ms
2025-10-17 10:46:11.085 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:46:11.088 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:46:11.092 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 3.8603 ms
2025-10-17 10:46:11.095 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 9.9042ms
2025-10-17 10:46:11.100 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:46:11.104 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:46:11.108 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:46:11.109 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:46:11.114 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:46:11.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:46:11.127 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:46:11.131 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:46:11.133 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:46:11.136 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 22.5478ms
2025-10-17 10:46:11.145 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:46:11.146 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 42.3022 ms
2025-10-17 10:46:11.151 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 51.1543ms
2025-10-17 10:46:18.559 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:46:18.562 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:46:18.563 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.2377 ms
2025-10-17 10:46:18.566 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 6.8662ms
2025-10-17 10:46:18.570 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:46:18.572 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:46:18.573 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:46:18.577 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:46:18.579 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:46:18.582 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:46:18.593 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:46:18.598 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:46:18.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:46:18.602 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 22.263ms
2025-10-17 10:46:18.604 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:46:18.607 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 35.0065 ms
2025-10-17 10:46:18.609 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 39.421ms
2025-10-17 10:47:01.536 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:47:01.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:47:01.538 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.541 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.541 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:47:01.541 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 3.1713 ms
2025-10-17 10:47:01.542 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.4309 ms
2025-10-17 10:47:01.544 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:47:01.558 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.548 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 12.1859ms
2025-10-17 10:47:01.551 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 13.9026ms
2025-10-17 10:47:01.550 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:47:01.555 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:47:01.545 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.559 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 0.9945 ms
2025-10-17 10:47:01.566 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:47:01.586 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.572 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.576 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.578 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 32.9488 ms
2025-10-17 10:47:01.583 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 38.3194ms
2025-10-17 10:47:01.569 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:47:01.587 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 0.9651 ms
2025-10-17 10:47:01.588 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 16.0136 ms
2025-10-17 10:47:01.589 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:47:01.592 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 51.162ms
2025-10-17 10:47:01.602 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:47:01.604 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.607 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 41.7113ms
2025-10-17 10:47:01.610 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 60.0724ms
2025-10-17 10:47:01.612 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:47:01.616 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:47:01.620 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.621 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:47:01.636 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:47:01.634 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:01.636 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:47:01.631 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:47:01.639 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:47:01.641 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:47:01.644 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:47:01.650 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:47:01.651 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:47:01.652 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:47:01.656 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:47:01.658 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:47:01.661 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:47:01.668 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:47:01.670 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:47:01.677 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:47:01.683 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:47:01.689 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:47:01.692 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:47:01.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:47:01.703 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:47:01.704 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 61.0942ms
2025-10-17 10:47:01.706 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 56.269ms
2025-10-17 10:47:01.707 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:47:01.710 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:47:01.713 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:47:01.716 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:47:01.751 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:47:01.847 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:02.012 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:47:01.927 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 322.8215 ms
2025-10-17 10:47:01.964 +03:00 [INF] HTTP GET /api/Projects responded 200 in 344.7035 ms
2025-10-17 10:47:01.979 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:47:01.924 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 293.5229ms
2025-10-17 10:47:02.028 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:47:02.032 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 462.2884ms
2025-10-17 10:47:02.038 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 435.5957ms
2025-10-17 10:47:02.041 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:47:02.042 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:47:02.047 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:47:02.064 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:47:02.065 +03:00 [INF] HTTP GET /api/Employees responded 200 in 489.1551 ms
2025-10-17 10:47:02.069 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:47:02.071 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 409.6359ms
2025-10-17 10:47:02.073 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:47:02.074 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 519.2043ms
2025-10-17 10:47:02.078 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:47:02.079 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:47:02.124 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:47:02.139 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:47:02.144 +03:00 [INF] HTTP GET /api/Items responded 200 in 509.3042 ms
2025-10-17 10:47:02.146 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:47:02.147 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:47:02.154 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 537.1987ms
2025-10-17 10:47:02.156 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:47:02.159 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 111.8613ms
2025-10-17 10:47:02.171 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:47:02.172 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:47:02.175 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 327.6645 ms
2025-10-17 10:47:02.175 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:47:02.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 471.0649ms
2025-10-17 10:47:02.188 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:47:02.195 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:47:02.199 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:47:02.203 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 32.6566ms
2025-10-17 10:47:02.205 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:47:02.207 +03:00 [INF] HTTP GET /api/Items responded 200 in 82.3994 ms
2025-10-17 10:47:02.211 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 137.9099ms
2025-10-17 10:48:07.969 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:48:07.978 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:48:07.981 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 3.0045 ms
2025-10-17 10:48:07.985 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 15.6194ms
2025-10-17 10:48:07.991 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:48:07.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:48:07.999 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:48:08.005 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 6.8527 ms
2025-10-17 10:48:08.004 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:48:08.027 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 36.0386ms
2025-10-17 10:48:08.029 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:48:08.045 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:48:08.047 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:48:08.053 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:48:08.059 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:48:08.062 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:48:08.065 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:48:08.077 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:48:08.078 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:48:08.143 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:48:08.349 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:48:08.442 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:48:08.458 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:48:08.501 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:48:08.526 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:48:08.551 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 492.057ms
2025-10-17 10:48:08.555 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:48:08.603 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:48:08.605 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 527.0215ms
2025-10-17 10:48:08.621 +03:00 [INF] HTTP GET /api/Employees responded 200 in 616.6915 ms
2025-10-17 10:48:08.623 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:48:08.624 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 631.2692ms
2025-10-17 10:48:08.625 +03:00 [INF] HTTP GET /api/Projects responded 200 in 571.8272 ms
2025-10-17 10:48:08.631 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 585.3856ms
2025-10-17 10:48:53.678 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:48:53.684 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:48:53.688 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 4.4523 ms
2025-10-17 10:48:53.691 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 13.3849ms
2025-10-17 10:48:53.696 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:48:53.702 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:48:53.704 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:48:53.708 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:48:53.709 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 4.8960 ms
2025-10-17 10:48:53.711 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:48:53.712 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 16.4169ms
2025-10-17 10:48:53.714 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:48:53.717 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:48:53.721 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:48:53.723 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:48:53.727 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:48:53.729 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:48:53.732 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:48:53.736 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:48:53.738 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:48:53.748 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:48:53.754 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:48:53.756 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:48:53.760 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 27.681ms
2025-10-17 10:48:53.766 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:48:53.772 +03:00 [INF] HTTP GET /api/Projects responded 200 in 48.3415 ms
2025-10-17 10:48:53.776 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 58.3087ms
2025-10-17 10:48:53.789 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:48:53.827 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:48:53.835 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:48:53.839 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 117.9884ms
2025-10-17 10:48:53.850 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:48:53.854 +03:00 [INF] HTTP GET /api/Employees responded 200 in 145.6541 ms
2025-10-17 10:48:53.856 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 154.8528ms
2025-10-17 10:49:22.874 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:49:22.881 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:49:22.883 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.6894 ms
2025-10-17 10:49:22.893 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 18.7773ms
2025-10-17 10:49:22.909 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:49:22.919 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:49:22.923 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:49:22.926 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:49:22.930 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:49:22.939 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:49:23.031 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:49:23.293 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:49:23.296 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:49:23.299 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 369.1298ms
2025-10-17 10:49:23.310 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:49:23.313 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 394.2266 ms
2025-10-17 10:49:23.366 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 456.9031ms
2025-10-17 10:49:57.541 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:49:57.550 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:49:57.552 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.4499 ms
2025-10-17 10:49:57.556 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 15.0934ms
2025-10-17 10:49:57.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:49:57.571 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:49:57.574 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:49:57.577 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:49:57.582 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:49:57.589 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:49:57.596 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:49:57.603 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:49:57.604 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:49:57.607 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 25.2799ms
2025-10-17 10:49:57.610 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:49:57.612 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 40.7138 ms
2025-10-17 10:49:57.615 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 52.7523ms
2025-10-17 10:51:49.254 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 10:51:49.267 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:49.269 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.4728 ms
2025-10-17 10:51:49.273 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 19.7545ms
2025-10-17 10:51:49.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 10:51:49.288 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:49.291 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:51:49.293 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 10:51:49.298 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 10:51:49.306 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 10:51:49.319 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 10:51:49.325 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 10:51:49.327 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:51:49.330 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 32.3417ms
2025-10-17 10:51:49.339 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 10:51:49.344 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 56.4687 ms
2025-10-17 10:51:49.350 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 69.0164ms
2025-10-17 10:51:53.250 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 10:51:53.252 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.255 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 10:51:53.256 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 3.4637 ms
2025-10-17 10:51:53.258 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:51:53.259 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.261 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 11.2473ms
2025-10-17 10:51:53.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:51:53.271 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.273 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 13.9572 ms
2025-10-17 10:51:53.275 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 10:51:53.320 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.292 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.293 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 22.6217 ms
2025-10-17 10:51:53.309 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 53.418ms
2025-10-17 10:51:53.288 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 10:51:53.344 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 24.0597 ms
2025-10-17 10:51:53.378 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 103.5531ms
2025-10-17 10:51:53.357 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 98.4362ms
2025-10-17 10:51:53.361 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 10:51:53.377 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.345 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:51:53.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:51:53.416 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.420 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 43.8296 ms
2025-10-17 10:51:53.422 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:51:53.428 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.430 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:51:53.445 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 156.3298ms
2025-10-17 10:51:53.452 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:51:53.458 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:51:53.460 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 10:51:53.476 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 10:51:53.480 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:51:53.488 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:51:53.493 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 10:51:53.509 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.517 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:51:53.527 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:51:53.538 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 10:51:53.547 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:51:53.562 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:51:53.575 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:51:53.580 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 10:51:53.593 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:51:53.595 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 10:51:53.608 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:51:53.632 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:51:53.623 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 172.1151ms
2025-10-17 10:51:53.627 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 10:51:53.652 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.642 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 10:51:53.642 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:51:53.645 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:51:53.612 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 10:51:53.654 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:51:53.683 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 10:51:53.670 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 142.5411ms
2025-10-17 10:51:53.675 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 10:51:53.677 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 384.8533 ms
2025-10-17 10:51:53.661 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:51:53.684 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 10:51:53.693 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 10:51:53.696 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:51:53.839 +03:00 [INF] CORS policy execution successful.
2025-10-17 10:51:53.844 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 577.864ms
2025-10-17 10:51:53.881 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 388.2119ms
2025-10-17 10:51:54.071 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 10:51:54.085 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 10:51:54.112 +03:00 [INF] HTTP GET /api/Items responded 200 in 684.2425 ms
2025-10-17 10:51:54.143 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:51:54.244 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 10:51:54.247 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 10:51:54.251 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 10:51:54.253 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 840.4384ms
2025-10-17 10:51:54.257 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 10:51:54.258 +03:00 [INF] HTTP GET /api/Employees responded 200 in 842.2032 ms
2025-10-17 10:51:54.260 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:51:54.262 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 10:51:54.266 +03:00 [INF] Handling GetItemsQuery
2025-10-17 10:51:54.319 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 957.9294ms
2025-10-17 10:51:54.359 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 747.7835ms
2025-10-17 10:51:54.369 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:51:54.404 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 10:51:54.454 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 10:51:54.471 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 778.1433ms
2025-10-17 10:51:54.552 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 10:51:54.654 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 10:51:54.635 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 10:51:54.577 +03:00 [INF] HTTP GET /api/Projects responded 200 in 1068.3408 ms
2025-10-17 10:51:54.657 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 10:51:54.657 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 1005.8419 ms
2025-10-17 10:51:54.660 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 1184.2364ms
2025-10-17 10:51:54.663 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 397.3278ms
2025-10-17 10:51:54.669 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 1041.5675ms
2025-10-17 10:51:54.750 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 10:51:54.762 +03:00 [INF] HTTP GET /api/Items responded 200 in 922.5193 ms
2025-10-17 10:51:54.768 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 1092.5473ms
2025-10-17 13:39:25.662 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 13:39:27.675 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 13:39:28.034 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 13:39:28.174 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 13:39:28.181 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 13:39:28.235 +03:00 [INF] Database seeded successfully
2025-10-17 13:39:28.509 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 13:39:28.514 +03:00 [INF] Starting Salini AMS API
2025-10-17 13:39:28.677 +03:00 [INF] Now listening on: http://localhost:5000
2025-10-17 13:39:28.679 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-17 13:39:28.681 +03:00 [INF] Hosting environment: Development
2025-10-17 13:39:28.683 +03:00 [INF] Content root path: C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API
2025-10-17 13:41:08.882 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - null null
2025-10-17 13:41:09.289 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-17 13:41:09.304 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:41:09.320 +03:00 [INF] HTTP OPTIONS /api/MasterData/statistics responded 204 in 17.1982 ms
2025-10-17 13:41:09.424 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - 204 null null 477.0489ms
2025-10-17 13:41:09.574 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - application/json null
2025-10-17 13:41:09.652 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:41:09.926 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 8:16:22 AM', Current time (UTC): '10/17/2025 10:41:09 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-17 13:41:09.961 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/17/2025 8:16:22 AM', Current time (UTC): '10/17/2025 10:41:09 AM'.
2025-10-17 13:41:09.984 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-17 13:41:10.000 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-17 13:41:10.006 +03:00 [INF] HTTP GET /api/MasterData/statistics responded 401 in 355.1068 ms
2025-10-17 13:41:10.014 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - 401 0 null 440.1253ms
2025-10-17 13:41:20.781 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Auth/login - null null
2025-10-17 13:41:20.815 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:41:20.826 +03:00 [INF] HTTP OPTIONS /api/Auth/login responded 204 in 11.9571 ms
2025-10-17 13:41:20.834 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Auth/login - 204 null null 52.9324ms
2025-10-17 13:41:20.842 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login - application/json 51
2025-10-17 13:41:20.849 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:41:20.864 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.AuthController.Login (salini.api.API)'
2025-10-17 13:41:20.939 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(salini.api.API.Controllers.LoginRequest) on controller salini.api.API.Controllers.AuthController (salini.api.API).
2025-10-17 13:41:21.225 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 13:41:21.591 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-17 13:41:21.606 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 13:41:21.746 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p20='?', @p0='?' (DbType = Int32), @p1='?', @p21='?', @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Boolean), @p16='?' (DbType = Int32), @p17='?', @p18='?' (DbType = Boolean), @p19='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Department" = @p2, "Email" = @p3, "EmailConfirmed" = @p4, "FirstName" = @p5, "IsActive" = @p6, "LastLogin" = @p7, "LastName" = @p8, "LockoutEnabled" = @p9, "LockoutEnd" = @p10, "NormalizedEmail" = @p11, "NormalizedUserName" = @p12, "PasswordHash" = @p13, "PhoneNumber" = @p14, "PhoneNumberConfirmed" = @p15, "Role" = @p16, "SecurityStamp" = @p17, "TwoFactorEnabled" = @p18, "UserName" = @p19
WHERE "Id" = @p20 AND "ConcurrencyStamp" = @p21;
2025-10-17 13:41:21.884 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ClaimType", a."ClaimValue", a."UserId"
FROM "AspNetUserClaims" AS a
WHERE a."UserId" = @__user_Id_0
2025-10-17 13:41:21.955 +03:00 [INF] User admin@salini.com logged in successfully
2025-10-17 13:41:21.966 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType3`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], salini.api.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:41:21.995 +03:00 [INF] Executed action salini.api.API.Controllers.AuthController.Login (salini.api.API) in 1041.1407ms
2025-10-17 13:41:22.007 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.AuthController.Login (salini.api.API)'
2025-10-17 13:41:22.041 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 1192.4273 ms
2025-10-17 13:41:22.061 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login - 200 null application/json; charset=utf-8 1218.9842ms
2025-10-17 13:41:29.167 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - null null
2025-10-17 13:41:29.173 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:41:29.175 +03:00 [INF] HTTP OPTIONS /api/MasterData/statistics responded 204 in 1.9114 ms
2025-10-17 13:41:29.184 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/MasterData/statistics - 204 null null 16.8388ms
2025-10-17 13:41:29.190 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - application/json null
2025-10-17 13:41:29.238 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:41:29.270 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 13:41:29.311 +03:00 [INF] Route matched with {action = "GetMasterDataStatistics", controller = "MasterData"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.API.Controllers.MasterDataStatistics]] GetMasterDataStatistics() on controller salini.api.API.Controllers.MasterDataController (salini.api.API).
2025-10-17 13:41:29.583 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Companies" AS c
2025-10-17 13:41:29.603 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Departments" AS d
2025-10-17 13:41:29.625 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 13:41:29.667 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
WHERE e."Status" = 1
2025-10-17 13:41:29.693 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Assets" AS a
2025-10-17 13:41:29.715 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SimCards" AS s
2025-10-17 13:41:29.735 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "SoftwareLicenses" AS s
2025-10-17 13:41:29.744 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.API.Controllers.MasterDataStatistics'.
2025-10-17 13:41:29.771 +03:00 [INF] Executed action salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API) in 307.1569ms
2025-10-17 13:41:29.774 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.MasterDataController.GetMasterDataStatistics (salini.api.API)'
2025-10-17 13:41:29.776 +03:00 [INF] HTTP GET /api/MasterData/statistics responded 200 in 538.7490 ms
2025-10-17 13:41:29.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/MasterData/statistics - 200 null application/json; charset=utf-8 591.221ms
2025-10-17 13:41:40.925 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:41:40.930 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:41:40.933 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.5236 ms
2025-10-17 13:41:40.937 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 11.7823ms
2025-10-17 13:41:40.942 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:41:40.946 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:41:40.950 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:41:40.964 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:41:41.002 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:41:41.054 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:41:41.199 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:41:41.221 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:41:41.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:41:41.307 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 340.1589ms
2025-10-17 13:41:41.310 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:41:41.312 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 366.2982 ms
2025-10-17 13:41:41.317 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 374.7564ms
2025-10-17 13:42:00.214 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 13:42:00.217 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 13:42:00.220 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.220 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 13:42:00.226 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 13:42:00.230 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 13:42:00.247 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.252 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 13:42:00.264 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 44.0032 ms
2025-10-17 13:42:00.266 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.270 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.273 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.274 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 26.5016 ms
2025-10-17 13:42:00.276 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.277 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 63.9439ms
2025-10-17 13:42:00.278 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 11.9409 ms
2025-10-17 13:42:00.279 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 9.5366 ms
2025-10-17 13:42:00.280 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 7.1313 ms
2025-10-17 13:42:00.284 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 67.267ms
2025-10-17 13:42:00.285 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 9.3207 ms
2025-10-17 13:42:00.289 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 13:42:00.290 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 70.5734ms
2025-10-17 13:42:00.292 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 66.3166ms
2025-10-17 13:42:00.294 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 63.9845ms
2025-10-17 13:42:00.297 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 13:42:00.298 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 46.0809ms
2025-10-17 13:42:00.300 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.302 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 13:42:00.305 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 13:42:00.310 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.314 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:42:00.315 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.317 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.318 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:42:00.320 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:42:00.320 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:42:00.324 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 13:42:00.325 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 13:42:00.325 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 13:42:00.325 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 13:42:00.334 +03:00 [INF] Handling GetItemsQuery
2025-10-17 13:42:00.335 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 13:42:00.334 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 13:42:00.335 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 13:42:00.346 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 13:42:00.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 13:42:00.375 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 13:42:00.379 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 13:42:00.381 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:00.385 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 13:42:00.389 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 13:42:00.392 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 59.6451ms
2025-10-17 13:42:00.394 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:42:00.395 +03:00 [INF] HTTP GET /api/Projects responded 200 in 77.8612 ms
2025-10-17 13:42:00.397 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 91.9006ms
2025-10-17 13:42:00.399 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 13:42:00.401 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 13:42:00.406 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 13:42:00.409 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 13:42:00.409 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:00.410 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:00.411 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 13:42:00.416 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 85.5891ms
2025-10-17 13:42:00.417 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 90.8257ms
2025-10-17 13:42:00.420 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 13:42:00.420 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 13:42:00.421 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:42:00.422 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:42:00.425 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.453 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:00.454 +03:00 [INF] HTTP GET /api/Items responded 200 in 138.8436 ms
2025-10-17 13:42:00.455 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 154.5163 ms
2025-10-17 13:42:00.455 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 13:42:00.456 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:42:00.456 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:42:00.457 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 155.1517ms
2025-10-17 13:42:00.459 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 170.238ms
2025-10-17 13:42:00.460 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:00.461 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 13:42:00.461 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 13:42:00.471 +03:00 [INF] Handling GetItemsQuery
2025-10-17 13:42:00.473 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 13:42:00.475 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 13:42:00.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 13:42:00.477 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 147.3022ms
2025-10-17 13:42:00.482 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:42:00.483 +03:00 [INF] HTTP GET /api/Employees responded 200 in 173.0555 ms
2025-10-17 13:42:00.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 13:42:00.483 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 13:42:00.485 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 187.8706ms
2025-10-17 13:42:00.487 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 13:42:00.489 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 13:42:00.493 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:00.494 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:00.495 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 23.5096ms
2025-10-17 13:42:00.497 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 27.2099ms
2025-10-17 13:42:00.498 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:42:00.499 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:42:00.500 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 46.8979 ms
2025-10-17 13:42:00.501 +03:00 [INF] HTTP GET /api/Items responded 200 in 75.8199 ms
2025-10-17 13:42:00.504 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 83.6764ms
2025-10-17 13:42:00.505 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 85.8587ms
2025-10-17 13:42:06.610 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 13:42:06.613 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 13:42:06.613 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:06.616 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:06.618 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 4.1482 ms
2025-10-17 13:42:06.618 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 2.2334 ms
2025-10-17 13:42:06.621 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 10.3472ms
2025-10-17 13:42:06.623 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 9.3512ms
2025-10-17 13:42:06.628 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 13:42:06.633 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 13:42:06.637 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:06.641 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:06.643 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:42:06.644 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:42:06.645 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 13:42:06.647 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 13:42:06.651 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 13:42:06.653 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 13:42:06.658 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 13:42:06.660 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 13:42:06.663 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 13:42:06.666 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 13:42:06.667 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:06.669 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 16.6923ms
2025-10-17 13:42:06.670 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:42:06.671 +03:00 [INF] HTTP GET /api/Projects responded 200 in 30.3683 ms
2025-10-17 13:42:06.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 40.8818ms
2025-10-17 13:42:06.684 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 13:42:06.697 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 13:42:06.699 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:06.704 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 53.6873ms
2025-10-17 13:42:06.705 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:42:06.707 +03:00 [INF] HTTP GET /api/Employees responded 200 in 70.7832 ms
2025-10-17 13:42:06.711 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 83.5044ms
2025-10-17 13:42:10.284 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:42:10.287 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:10.288 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 0.9906 ms
2025-10-17 13:42:10.290 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 6.5246ms
2025-10-17 13:42:10.294 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:42:10.306 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:10.307 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:42:10.308 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:42:10.314 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:42:10.322 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:42:10.329 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:42:10.337 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:42:10.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:10.340 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 27.2279ms
2025-10-17 13:42:10.342 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:42:10.343 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 37.5734 ms
2025-10-17 13:42:10.345 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 51.041ms
2025-10-17 13:42:11.613 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 13:42:11.616 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.617 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 13:42:11.619 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 13:42:11.619 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.617 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 1.1993 ms
2025-10-17 13:42:11.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 13:42:11.625 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.626 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:42:11.627 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 13.4479ms
2025-10-17 13:42:11.632 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 13:42:11.634 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.640 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 15.1763 ms
2025-10-17 13:42:11.640 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 13:42:11.642 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 13:42:11.646 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.652 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:42:11.654 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 34.6428ms
2025-10-17 13:42:11.658 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 13:42:11.662 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.664 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 17.4525 ms
2025-10-17 13:42:11.665 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 13:42:11.678 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 13:42:11.683 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:42:11.684 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 13:42:11.687 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 55.4083ms
2025-10-17 13:42:11.690 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 13:42:11.692 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.694 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 13:42:11.701 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:42:11.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 13:42:11.703 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 13:42:11.704 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 13:42:11.711 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 13:42:11.722 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 13:42:11.719 +03:00 [INF] Handling GetItemsQuery
2025-10-17 13:42:11.715 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 13:42:11.723 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 13:42:11.738 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 13:42:11.741 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 13:42:11.743 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 13:42:11.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:11.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:11.748 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:11.754 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 65.0492ms
2025-10-17 13:42:11.761 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 103.9565ms
2025-10-17 13:42:11.764 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 61.6477ms
2025-10-17 13:42:11.764 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:42:11.767 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 13:42:11.768 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:42:11.771 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:42:11.772 +03:00 [INF] HTTP GET /api/Projects responded 200 in 137.6177 ms
2025-10-17 13:42:11.775 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.776 +03:00 [INF] HTTP GET /api/Employees responded 200 in 156.3206 ms
2025-10-17 13:42:11.778 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 116.5335 ms
2025-10-17 13:42:11.779 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 154.8012ms
2025-10-17 13:42:11.782 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:42:11.793 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 13:42:11.787 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 144.5304ms
2025-10-17 13:42:11.782 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 165.4492ms
2025-10-17 13:42:11.795 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 13:42:11.799 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 13:42:11.813 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 13:42:11.817 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 13:42:11.817 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 13:42:11.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:11.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 13:42:11.821 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 104.314ms
2025-10-17 13:42:11.823 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 13:42:11.824 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 13:42:11.825 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:42:11.827 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:42:11.828 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:11.830 +03:00 [INF] HTTP GET /api/Items responded 200 in 137.1960 ms
2025-10-17 13:42:11.831 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:42:11.832 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 33.6309ms
2025-10-17 13:42:11.834 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 156.0185ms
2025-10-17 13:42:11.835 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 13:42:11.837 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:42:11.841 +03:00 [INF] Handling GetItemsQuery
2025-10-17 13:42:11.842 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 67.3393 ms
2025-10-17 13:42:11.845 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 13:42:11.845 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 78.8724ms
2025-10-17 13:42:11.850 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 13:42:11.855 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 13:42:11.857 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:42:11.859 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 17.7859ms
2025-10-17 13:42:11.860 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:42:11.861 +03:00 [INF] HTTP GET /api/Items responded 200 in 33.7171 ms
2025-10-17 13:42:11.862 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 39.3189ms
2025-10-17 13:47:45.142 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:47:45.178 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:47:45.180 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.6122 ms
2025-10-17 13:47:45.195 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 65.6013ms
2025-10-17 13:47:45.223 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:47:45.237 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:47:45.260 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:47:45.262 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:47:45.395 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:47:45.414 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:47:45.491 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId") AS "TotalAmount", s."Name" AS "SupplierName", p0."Name" AS "ProjectName", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId") AS "ItemCount"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:47:45.510 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:47:45.515 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:47:45.522 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 143.771ms
2025-10-17 13:47:45.526 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:47:45.529 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 291.5058 ms
2025-10-17 13:47:45.540 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 316.8379ms
2025-10-17 13:48:48.002 +03:00 [INF] Application is shutting down...
2025-10-17 13:51:34.605 +03:00 [INF] User profile is available. Using 'C:\Users\smart\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-17 13:51:37.218 +03:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 13:51:37.773 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 13:51:38.004 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 13:51:38.009 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Department", a."Email", a."EmailConfirmed", a."FirstName", a."IsActive", a."LastLogin", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-17 13:51:38.073 +03:00 [INF] Database seeded successfully
2025-10-17 13:51:38.393 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-17 13:51:38.398 +03:00 [INF] Starting Salini AMS API
2025-10-17 13:51:38.517 +03:00 [INF] Now listening on: http://localhost:5000
2025-10-17 13:51:38.519 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-17 13:51:38.520 +03:00 [INF] Hosting environment: Development
2025-10-17 13:51:38.521 +03:00 [INF] Content root path: C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API
2025-10-17 13:52:22.975 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:52:23.128 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-17 13:52:23.138 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:52:23.145 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 9.7782 ms
2025-10-17 13:52:23.161 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 189.4887ms
2025-10-17 13:52:23.174 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:52:23.210 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:52:23.451 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:52:23.497 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:52:23.553 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:52:23.898 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:52:24.244 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:52:24.289 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'salini.api.Infrastructure.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column p.RequestedById does not exist

POSITION: 575
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.RequestedById does not exist
    Position: 575
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column p.RequestedById does not exist

POSITION: 575
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.RequestedById does not exist
    Position: 575
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 13:52:24.313 +03:00 [ERR] Error handling GetPurchaseOrdersQuery
Npgsql.PostgresException (0x80004005): 42703: column p.RequestedById does not exist

POSITION: 575
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Queries.GetPurchaseOrders.GetPurchaseOrdersQueryHandler.Handle(GetPurchaseOrdersQuery request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Queries\GetPurchaseOrders\GetPurchaseOrdersQuery.cs:line 78
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.RequestedById does not exist
    Position: 575
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 13:52:24.364 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 854.0529ms
2025-10-17 13:52:24.369 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:52:24.378 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column p.RequestedById does not exist

POSITION: 575
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Queries.GetPurchaseOrders.GetPurchaseOrdersQueryHandler.Handle(GetPurchaseOrdersQuery request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Queries\GetPurchaseOrders\GetPurchaseOrdersQuery.cs:line 78
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
   at salini.api.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\ValidationBehavior.cs:line 36
   at salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders(Int32 pageNumber, Int32 pageSize, String searchTerm, String supplierId, String projectId, Nullable`1 status, String sortBy, Boolean sortDescending) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 52
   at lambda_method294(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.RequestedById does not exist
    Position: 575
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 13:52:24.430 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:52:24.433 +03:00 [INF] Executing endpoint '/error'
2025-10-17 13:52:24.453 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 13:52:24.489 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 13:52:24.526 +03:00 [INF] Executed endpoint '/error'
2025-10-17 13:52:24.530 +03:00 [ERR] HTTP GET /api/PurchaseOrders responded 500 in 1320.5544 ms
2025-10-17 13:52:24.544 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 500 null application/problem+json 1370.1977ms
2025-10-17 13:52:29.258 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:52:29.265 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:52:29.268 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 2.5763 ms
2025-10-17 13:52:29.272 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 13.4945ms
2025-10-17 13:52:29.278 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:52:29.284 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:52:29.298 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:52:29.302 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:52:29.311 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:52:29.337 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:52:29.360 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:52:29.375 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'salini.api.Infrastructure.Data.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column p.RequestedById does not exist

POSITION: 575
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.RequestedById does not exist
    Position: 575
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column p.RequestedById does not exist

POSITION: 575
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.RequestedById does not exist
    Position: 575
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 13:52:29.415 +03:00 [ERR] Error handling GetPurchaseOrdersQuery
Npgsql.PostgresException (0x80004005): 42703: column p.RequestedById does not exist

POSITION: 575
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Queries.GetPurchaseOrders.GetPurchaseOrdersQueryHandler.Handle(GetPurchaseOrdersQuery request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Queries\GetPurchaseOrders\GetPurchaseOrdersQuery.cs:line 78
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.RequestedById does not exist
    Position: 575
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 13:52:29.451 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 143.2167ms
2025-10-17 13:52:29.455 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:52:29.460 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column p.RequestedById does not exist

POSITION: 575
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at salini.api.Application.Features.PurchaseOrders.Queries.GetPurchaseOrders.GetPurchaseOrdersQueryHandler.Handle(GetPurchaseOrdersQuery request, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Features\PurchaseOrders\Queries\GetPurchaseOrders\GetPurchaseOrdersQuery.cs:line 78
   at salini.api.Application.Common.Behaviors.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\LoggingBehavior.cs:line 24
   at salini.api.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.Application\Common\Behaviors\ValidationBehavior.cs:line 36
   at salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders(Int32 pageNumber, Int32 pageSize, String searchTerm, String supplierId, String projectId, Nullable`1 status, String sortBy, Boolean sortDescending) in C:\apps\myprojects\salini-ams\salini-ams-dotnet\backend\salini.api.API\Controllers\PurchaseOrdersController.cs:line 52
   at lambda_method294(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column p.RequestedById does not exist
    Position: 575
    File: parse_relation.c
    Line: 3599
    Routine: errorMissingColumn
2025-10-17 13:52:29.505 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:52:29.507 +03:00 [INF] Executing endpoint '/error'
2025-10-17 13:52:29.510 +03:00 [INF] Setting HTTP status code 500.
2025-10-17 13:52:29.521 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2025-10-17 13:52:29.528 +03:00 [INF] Executed endpoint '/error'
2025-10-17 13:52:29.531 +03:00 [ERR] HTTP GET /api/PurchaseOrders responded 500 in 247.7756 ms
2025-10-17 13:52:29.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 500 null application/problem+json 256.5862ms
2025-10-17 13:53:41.334 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:53:41.340 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:41.355 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 15.6809 ms
2025-10-17 13:53:41.387 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 52.9046ms
2025-10-17 13:53:41.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:53:41.592 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:41.612 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:53:41.637 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:53:41.655 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:53:41.686 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:53:41.747 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:53:41.770 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:53:41.789 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:53:41.910 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 259.0441ms
2025-10-17 13:53:41.913 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:53:41.915 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 323.0703 ms
2025-10-17 13:53:41.919 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 332.4309ms
2025-10-17 13:53:43.925 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 13:53:43.927 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:43.928 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 13:53:43.929 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 2.0836 ms
2025-10-17 13:53:43.930 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 13:53:43.931 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:43.933 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 7.5069ms
2025-10-17 13:53:43.933 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 13:53:43.936 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:43.936 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 5.5432 ms
2025-10-17 13:53:43.944 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 13:53:43.946 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 13:53:43.947 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:43.949 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 13.3962 ms
2025-10-17 13:53:43.955 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 25.9244ms
2025-10-17 13:53:43.959 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:43.961 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:43.962 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 14.7041 ms
2025-10-17 13:53:43.966 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 34.9364ms
2025-10-17 13:53:43.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 13:53:43.992 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:43.973 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:53:43.974 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 40.9994ms
2025-10-17 13:53:43.990 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 13:53:43.972 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 11.0480 ms
2025-10-17 13:53:43.994 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:53:44.001 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 13:53:44.004 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:44.006 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 13:53:44.006 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 59.7896ms
2025-10-17 13:53:44.012 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:44.015 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:53:44.023 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 13:53:44.024 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 13:53:44.026 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:53:44.033 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 13:53:44.034 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 13:53:44.039 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 13:53:44.046 +03:00 [INF] Handling GetItemsQuery
2025-10-17 13:53:44.048 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 13:53:44.051 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 13:53:44.072 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 13:53:44.121 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 13:53:44.129 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 13:53:44.131 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:53:44.141 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 102.512ms
2025-10-17 13:53:44.144 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 13:53:44.145 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:53:44.146 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 13:53:44.146 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 13:53:44.150 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 13:53:44.153 +03:00 [INF] HTTP GET /api/Items responded 200 in 148.9432 ms
2025-10-17 13:53:44.160 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 13:53:44.160 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:44.181 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 191.8744ms
2025-10-17 13:53:44.188 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:53:44.191 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:53:44.211 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 13:53:44.212 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 193.1164ms
2025-10-17 13:53:44.219 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 13:53:44.220 +03:00 [INF] Handling GetItemsQuery
2025-10-17 13:53:44.221 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 13:53:44.221 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:53:44.226 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:44.232 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 272.9722 ms
2025-10-17 13:53:44.232 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 13:53:44.235 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:53:44.257 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 13:53:44.259 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 13:53:44.279 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 334.6789ms
2025-10-17 13:53:44.288 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:53:44.289 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 13:53:44.306 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 13:53:44.324 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 13:53:44.327 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 13:53:44.332 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:53:44.334 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 13:53:44.337 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 117.881ms
2025-10-17 13:53:44.338 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 13:53:44.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:53:44.340 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 296.1574ms
2025-10-17 13:53:44.341 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:53:44.346 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 13:53:44.353 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:53:44.355 +03:00 [INF] HTTP GET /api/Items responded 200 in 194.7924 ms
2025-10-17 13:53:44.365 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 13:53:44.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:53:44.372 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 343.4069ms
2025-10-17 13:53:44.376 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 229.5338ms
2025-10-17 13:53:44.371 +03:00 [INF] HTTP GET /api/Projects responded 200 in 358.8937 ms
2025-10-17 13:53:44.382 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 59.5719ms
2025-10-17 13:53:44.384 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:53:44.393 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 391.6105ms
2025-10-17 13:53:44.396 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:53:44.398 +03:00 [INF] HTTP GET /api/Employees responded 200 in 405.6554 ms
2025-10-17 13:53:44.410 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 183.3340 ms
2025-10-17 13:53:44.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 195.7155ms
2025-10-17 13:53:44.413 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 441.496ms
2025-10-17 13:53:54.653 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:53:54.660 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:54.662 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.3592 ms
2025-10-17 13:53:54.665 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 11.6699ms
2025-10-17 13:53:54.670 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:53:54.679 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:53:54.682 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:53:54.684 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:53:54.687 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:53:54.700 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:53:54.710 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:53:54.716 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:53:54.719 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:53:54.721 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 34.7609ms
2025-10-17 13:53:54.723 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:53:54.727 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 48.3686 ms
2025-10-17 13:53:54.729 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 59.6991ms
2025-10-17 13:54:04.188 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 13:54:04.189 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 13:54:04.190 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.191 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 13:54:04.194 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.195 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 13:54:04.196 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 5.4319 ms
2025-10-17 13:54:04.207 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 18.8804ms
2025-10-17 13:54:04.199 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 5.1546 ms
2025-10-17 13:54:04.200 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 13:54:04.202 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.203 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 13:54:04.199 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.214 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 13:54:04.216 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 27.773ms
2025-10-17 13:54:04.223 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.223 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 21.3960 ms
2025-10-17 13:54:04.228 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.228 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 29.1035 ms
2025-10-17 13:54:04.231 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.235 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 13:54:04.236 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 13.0654 ms
2025-10-17 13:54:04.238 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 42.6868ms
2025-10-17 13:54:04.239 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 11.7654 ms
2025-10-17 13:54:04.241 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 50.3501ms
2025-10-17 13:54:04.245 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:54:04.247 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.250 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 50.2238ms
2025-10-17 13:54:04.256 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 13:54:04.259 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 56.6655ms
2025-10-17 13:54:04.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 13:54:04.267 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 13:54:04.268 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:54:04.273 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.279 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.281 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 13:54:04.281 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 13:54:04.283 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:54:04.283 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:54:04.288 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 13:54:04.289 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 13:54:04.289 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 13:54:04.290 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 13:54:04.294 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 13:54:04.297 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 13:54:04.299 +03:00 [INF] Handling GetItemsQuery
2025-10-17 13:54:04.301 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 13:54:04.304 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 13:54:04.305 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:04.308 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 13:54:04.308 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 13:54:04.309 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 28.8881ms
2025-10-17 13:54:04.311 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 13:54:04.313 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 13:54:04.320 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:54:04.325 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.325 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 13:54:04.327 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 13:54:04.327 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 96.3987 ms
2025-10-17 13:54:04.330 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:54:04.334 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 13:54:04.334 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:04.336 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 122.1969ms
2025-10-17 13:54:04.337 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 13:54:04.338 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:04.340 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 40.8508ms
2025-10-17 13:54:04.357 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 13:54:04.371 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 13:54:04.373 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 13:54:04.374 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 76.9795ms
2025-10-17 13:54:04.375 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:54:04.381 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:04.387 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 13:54:04.389 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:54:04.389 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 13:54:04.390 +03:00 [INF] HTTP GET /api/Items responded 200 in 111.7993 ms
2025-10-17 13:54:04.393 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:54:04.395 +03:00 [INF] HTTP GET /api/Projects responded 200 in 121.4303 ms
2025-10-17 13:54:04.396 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:04.397 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 13:54:04.398 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 134.3777ms
2025-10-17 13:54:04.402 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 13:54:04.406 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 149.7206ms
2025-10-17 13:54:04.411 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 125.551ms
2025-10-17 13:54:04.412 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 13:54:04.422 +03:00 [INF] Handling GetItemsQuery
2025-10-17 13:54:04.425 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:54:04.428 +03:00 [INF] HTTP GET /api/Employees responded 200 in 181.6458 ms
2025-10-17 13:54:04.426 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:04.429 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 13:54:04.431 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 195.8846ms
2025-10-17 13:54:04.433 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 61.1764ms
2025-10-17 13:54:04.452 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 13:54:04.448 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 13:54:04.459 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 134.2194 ms
2025-10-17 13:54:04.462 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 13:54:04.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 151.5288ms
2025-10-17 13:54:04.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:04.474 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 54.0473ms
2025-10-17 13:54:04.476 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 13:54:04.478 +03:00 [INF] HTTP GET /api/Items responded 200 in 97.0771 ms
2025-10-17 13:54:04.484 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 112.2628ms
2025-10-17 13:54:22.967 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 13:54:22.970 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:22.972 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 1.5924 ms
2025-10-17 13:54:22.995 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 28.2948ms
2025-10-17 13:54:23.004 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json 262
2025-10-17 13:54:23.019 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:23.021 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 13:54:23.035 +03:00 [INF] Route matched with {action = "UpdatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] UpdatePurchaseOrder(System.String, salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderUpdateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:54:23.090 +03:00 [INF] Handling UpdatePurchaseOrderCommand
2025-10-17 13:54:23.140 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy"
FROM "PurchaseOrders" AS p
WHERE p."Id" = @__p_0
LIMIT 1
2025-10-17 13:54:23.400 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?', @p0='?', @p1='?', @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PurchaseOrders" SET "ProjectId" = @p0, "RequestedById" = @p1, "UpdatedAt" = @p2
WHERE "Id" = @p3;
2025-10-17 13:54:23.436 +03:00 [INF] Successfully handled UpdatePurchaseOrderCommand
2025-10-17 13:54:23.439 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 13:54:23.457 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API) in 419.3963ms
2025-10-17 13:54:23.461 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 13:54:23.462 +03:00 [INF] HTTP PUT /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 443.5902 ms
2025-10-17 13:54:23.469 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 465.3835ms
2025-10-17 13:54:23.475 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:54:23.484 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:23.486 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.3575 ms
2025-10-17 13:54:23.489 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 13.2315ms
2025-10-17 13:54:23.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:54:23.500 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:23.503 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:54:23.505 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:54:23.508 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:54:23.512 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:54:23.532 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:54:23.539 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:54:23.542 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:23.545 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 37.0101ms
2025-10-17 13:54:23.548 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:54:23.551 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 50.2222 ms
2025-10-17 13:54:23.554 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 60.3136ms
2025-10-17 13:54:37.560 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 13:54:37.563 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 13:54:37.564 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:37.566 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:37.568 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 4.6251 ms
2025-10-17 13:54:37.569 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 2.2824 ms
2025-10-17 13:54:37.571 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 10.4159ms
2025-10-17 13:54:37.573 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 9.8585ms
2025-10-17 13:54:37.583 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 13:54:37.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 13:54:37.590 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:37.592 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:54:37.593 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:54:37.594 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:54:37.595 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 13:54:37.597 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 13:54:37.603 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 13:54:37.604 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 13:54:37.606 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 13:54:37.606 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 13:54:37.617 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 13:54:37.620 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 13:54:37.624 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 13:54:37.625 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:37.626 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 23.3471ms
2025-10-17 13:54:37.628 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 13:54:37.630 +03:00 [INF] HTTP GET /api/Projects responded 200 in 37.4430 ms
2025-10-17 13:54:37.631 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 13:54:37.633 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 45.7726ms
2025-10-17 13:54:37.634 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:54:37.642 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 41.9449ms
2025-10-17 13:54:37.644 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 13:54:37.646 +03:00 [INF] HTTP GET /api/Employees responded 200 in 56.2171 ms
2025-10-17 13:54:37.650 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 67.0378ms
2025-10-17 13:56:30.328 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:56:30.331 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:56:30.331 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 0.8272 ms
2025-10-17 13:56:30.337 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 8.7152ms
2025-10-17 13:56:30.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:56:30.345 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:56:30.348 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:56:30.349 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:56:30.353 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:56:30.358 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:56:30.368 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:56:30.373 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:56:30.375 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:56:30.378 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 25.7795ms
2025-10-17 13:56:30.380 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:56:30.382 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 36.7984 ms
2025-10-17 13:56:30.385 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 42.3233ms
2025-10-17 13:57:14.873 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:57:14.875 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:57:14.876 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.4081 ms
2025-10-17 13:57:14.878 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 5.7408ms
2025-10-17 13:57:14.882 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:57:14.887 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:57:14.892 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:57:14.893 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:57:14.896 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:57:14.952 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:57:14.991 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:57:15.003 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:57:15.005 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:57:15.007 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 111.5411ms
2025-10-17 13:57:15.009 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:57:15.010 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 123.1420 ms
2025-10-17 13:57:15.012 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 129.4821ms
2025-10-17 13:57:18.857 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 13:57:18.859 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:57:18.860 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 1.2939 ms
2025-10-17 13:57:18.863 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 6.5727ms
2025-10-17 13:57:18.866 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json null
2025-10-17 13:57:18.870 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:57:18.875 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 13:57:18.881 +03:00 [INF] Route matched with {action = "GetPurchaseOrderById", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] GetPurchaseOrderById(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:57:18.887 +03:00 [INF] Handling GetPurchaseOrderByIdQuery
2025-10-17 13:57:18.963 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActualDeliveryDate", t."CreatedAt", t."CreatedBy", t."ExpectedDeliveryDate", t."Notes", t."PoDate", t."PoNumber", t."ProjectId", t."RequestedById", t."Status", t."SupplierId", t."TotalAmount", t."UpdatedAt", t."UpdatedBy", t."Id0", t."Address", t."ContactPerson", t."CreatedAt0", t."CreatedBy0", t."Email", t."Name", t."Phone", t."Status0", t."UpdatedAt0", t."UpdatedBy0", t."Id1", t."Code", t."CompanyId", t."CostCenterId", t."CreatedAt1", t."CreatedBy1", t."Description", t."Name0", t."NationalityId", t."Status1", t."UpdatedAt1", t."UpdatedBy1", t."Id2", t."CompanyId0", t."CostCenterId0", t."CreatedAt2", t."CreatedBy2", t."DepartmentId", t."Email0", t."EmployeeCategoryId", t."EmployeeId", t."EmployeePositionId", t."FirstName", t."LastName", t."NationalityId0", t."Phone0", t."ProjectId0", t."Status2", t."SubDepartmentId", t."UpdatedAt2", t."UpdatedBy2", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."ItemId", t0."Notes", t0."PurchaseOrderId", t0."Quantity", t0."UnitPrice", t0."UpdatedAt", t0."UpdatedBy", t0."Id0", t0."CreatedAt0", t0."CreatedBy0", t0."Description", t0."ItemCategoryId", t0."Name", t0."Status", t0."UpdatedAt0", t0."UpdatedBy0"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy", s."Id" AS "Id0", s."Address", s."ContactPerson", s."CreatedAt" AS "CreatedAt0", s."CreatedBy" AS "CreatedBy0", s."Email", s."Name", s."Phone", s."Status" AS "Status0", s."UpdatedAt" AS "UpdatedAt0", s."UpdatedBy" AS "UpdatedBy0", p0."Id" AS "Id1", p0."Code", p0."CompanyId", p0."CostCenterId", p0."CreatedAt" AS "CreatedAt1", p0."CreatedBy" AS "CreatedBy1", p0."Description", p0."Name" AS "Name0", p0."NationalityId", p0."Status" AS "Status1", p0."UpdatedAt" AS "UpdatedAt1", p0."UpdatedBy" AS "UpdatedBy1", e."Id" AS "Id2", e."CompanyId" AS "CompanyId0", e."CostCenterId" AS "CostCenterId0", e."CreatedAt" AS "CreatedAt2", e."CreatedBy" AS "CreatedBy2", e."DepartmentId", e."Email" AS "Email0", e."EmployeeCategoryId", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."NationalityId" AS "NationalityId0", e."Phone" AS "Phone0", e."ProjectId" AS "ProjectId0", e."Status" AS "Status2", e."SubDepartmentId", e."UpdatedAt" AS "UpdatedAt2", e."UpdatedBy" AS "UpdatedBy2"
    FROM "PurchaseOrders" AS p
    INNER JOIN "Suppliers" AS s ON p."SupplierId" = s."Id"
    INNER JOIN "Projects" AS p0 ON p."ProjectId" = p0."Id"
    LEFT JOIN "Employees" AS e ON p."RequestedById" = e."Id"
    WHERE p."Id" = @__request_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p1."Id", p1."CreatedAt", p1."CreatedBy", p1."ItemId", p1."Notes", p1."PurchaseOrderId", p1."Quantity", p1."UnitPrice", p1."UpdatedAt", p1."UpdatedBy", i."Id" AS "Id0", i."CreatedAt" AS "CreatedAt0", i."CreatedBy" AS "CreatedBy0", i."Description", i."ItemCategoryId", i."Name", i."Status", i."UpdatedAt" AS "UpdatedAt0", i."UpdatedBy" AS "UpdatedBy0"
    FROM "PurchaseOrderItems" AS p1
    INNER JOIN "Items" AS i ON p1."ItemId" = i."Id"
) AS t0 ON t."Id" = t0."PurchaseOrderId"
ORDER BY t."Id", t."Id0", t."Id1", t."Id2", t0."Id"
2025-10-17 13:57:19.155 +03:00 [INF] Successfully handled GetPurchaseOrderByIdQuery
2025-10-17 13:57:19.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 13:57:19.170 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API) in 286.3695ms
2025-10-17 13:57:19.174 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 13:57:19.176 +03:00 [INF] HTTP GET /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 306.3097 ms
2025-10-17 13:57:19.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 312.0003ms
2025-10-17 13:58:25.470 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:58:25.483 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:58:25.486 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 3.2596 ms
2025-10-17 13:58:25.489 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 19.7639ms
2025-10-17 13:58:25.496 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:58:25.508 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:58:25.510 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:58:25.512 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:58:25.532 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:58:25.543 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:58:25.556 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:58:25.564 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:58:25.567 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:58:25.569 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 37.624ms
2025-10-17 13:58:25.573 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:58:25.579 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 71.3007 ms
2025-10-17 13:58:25.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 93.7602ms
2025-10-17 13:58:26.955 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 13:58:26.961 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:58:26.963 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 1.7632 ms
2025-10-17 13:58:26.965 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 10.1913ms
2025-10-17 13:58:26.969 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json null
2025-10-17 13:58:26.971 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:58:26.972 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 13:58:26.974 +03:00 [INF] Route matched with {action = "GetPurchaseOrderById", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] GetPurchaseOrderById(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:58:26.979 +03:00 [INF] Handling GetPurchaseOrderByIdQuery
2025-10-17 13:58:26.986 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActualDeliveryDate", t."CreatedAt", t."CreatedBy", t."ExpectedDeliveryDate", t."Notes", t."PoDate", t."PoNumber", t."ProjectId", t."RequestedById", t."Status", t."SupplierId", t."TotalAmount", t."UpdatedAt", t."UpdatedBy", t."Id0", t."Address", t."ContactPerson", t."CreatedAt0", t."CreatedBy0", t."Email", t."Name", t."Phone", t."Status0", t."UpdatedAt0", t."UpdatedBy0", t."Id1", t."Code", t."CompanyId", t."CostCenterId", t."CreatedAt1", t."CreatedBy1", t."Description", t."Name0", t."NationalityId", t."Status1", t."UpdatedAt1", t."UpdatedBy1", t."Id2", t."CompanyId0", t."CostCenterId0", t."CreatedAt2", t."CreatedBy2", t."DepartmentId", t."Email0", t."EmployeeCategoryId", t."EmployeeId", t."EmployeePositionId", t."FirstName", t."LastName", t."NationalityId0", t."Phone0", t."ProjectId0", t."Status2", t."SubDepartmentId", t."UpdatedAt2", t."UpdatedBy2", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."ItemId", t0."Notes", t0."PurchaseOrderId", t0."Quantity", t0."UnitPrice", t0."UpdatedAt", t0."UpdatedBy", t0."Id0", t0."CreatedAt0", t0."CreatedBy0", t0."Description", t0."ItemCategoryId", t0."Name", t0."Status", t0."UpdatedAt0", t0."UpdatedBy0"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy", s."Id" AS "Id0", s."Address", s."ContactPerson", s."CreatedAt" AS "CreatedAt0", s."CreatedBy" AS "CreatedBy0", s."Email", s."Name", s."Phone", s."Status" AS "Status0", s."UpdatedAt" AS "UpdatedAt0", s."UpdatedBy" AS "UpdatedBy0", p0."Id" AS "Id1", p0."Code", p0."CompanyId", p0."CostCenterId", p0."CreatedAt" AS "CreatedAt1", p0."CreatedBy" AS "CreatedBy1", p0."Description", p0."Name" AS "Name0", p0."NationalityId", p0."Status" AS "Status1", p0."UpdatedAt" AS "UpdatedAt1", p0."UpdatedBy" AS "UpdatedBy1", e."Id" AS "Id2", e."CompanyId" AS "CompanyId0", e."CostCenterId" AS "CostCenterId0", e."CreatedAt" AS "CreatedAt2", e."CreatedBy" AS "CreatedBy2", e."DepartmentId", e."Email" AS "Email0", e."EmployeeCategoryId", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."NationalityId" AS "NationalityId0", e."Phone" AS "Phone0", e."ProjectId" AS "ProjectId0", e."Status" AS "Status2", e."SubDepartmentId", e."UpdatedAt" AS "UpdatedAt2", e."UpdatedBy" AS "UpdatedBy2"
    FROM "PurchaseOrders" AS p
    INNER JOIN "Suppliers" AS s ON p."SupplierId" = s."Id"
    INNER JOIN "Projects" AS p0 ON p."ProjectId" = p0."Id"
    LEFT JOIN "Employees" AS e ON p."RequestedById" = e."Id"
    WHERE p."Id" = @__request_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p1."Id", p1."CreatedAt", p1."CreatedBy", p1."ItemId", p1."Notes", p1."PurchaseOrderId", p1."Quantity", p1."UnitPrice", p1."UpdatedAt", p1."UpdatedBy", i."Id" AS "Id0", i."CreatedAt" AS "CreatedAt0", i."CreatedBy" AS "CreatedBy0", i."Description", i."ItemCategoryId", i."Name", i."Status", i."UpdatedAt" AS "UpdatedAt0", i."UpdatedBy" AS "UpdatedBy0"
    FROM "PurchaseOrderItems" AS p1
    INNER JOIN "Items" AS i ON p1."ItemId" = i."Id"
) AS t0 ON t."Id" = t0."PurchaseOrderId"
ORDER BY t."Id", t."Id0", t."Id1", t."Id2", t0."Id"
2025-10-17 13:58:26.992 +03:00 [INF] Successfully handled GetPurchaseOrderByIdQuery
2025-10-17 13:58:26.993 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 13:58:26.997 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API) in 21.2617ms
2025-10-17 13:58:27.000 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 13:58:27.002 +03:00 [INF] HTTP GET /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 31.4265 ms
2025-10-17 13:58:27.007 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 38.1936ms
2025-10-17 13:58:31.744 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 13:58:31.747 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:58:31.748 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 0.9387 ms
2025-10-17 13:58:31.751 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 6.6402ms
2025-10-17 13:58:31.755 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 13:58:31.757 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:58:31.761 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:58:31.765 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:58:31.767 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 13:58:31.772 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 13:58:31.781 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 13:58:31.785 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 13:58:31.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 13:58:31.789 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 22.281ms
2025-10-17 13:58:31.792 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 13:58:31.793 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 36.0328 ms
2025-10-17 13:58:31.797 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 42.5756ms
2025-10-17 13:58:33.544 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 13:58:33.549 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:58:33.550 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 1.2160 ms
2025-10-17 13:58:33.554 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 9.174ms
2025-10-17 13:58:33.557 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json null
2025-10-17 13:58:33.563 +03:00 [INF] CORS policy execution successful.
2025-10-17 13:58:33.565 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 13:58:33.566 +03:00 [INF] Route matched with {action = "GetPurchaseOrderById", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] GetPurchaseOrderById(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 13:58:33.571 +03:00 [INF] Handling GetPurchaseOrderByIdQuery
2025-10-17 13:58:33.578 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActualDeliveryDate", t."CreatedAt", t."CreatedBy", t."ExpectedDeliveryDate", t."Notes", t."PoDate", t."PoNumber", t."ProjectId", t."RequestedById", t."Status", t."SupplierId", t."TotalAmount", t."UpdatedAt", t."UpdatedBy", t."Id0", t."Address", t."ContactPerson", t."CreatedAt0", t."CreatedBy0", t."Email", t."Name", t."Phone", t."Status0", t."UpdatedAt0", t."UpdatedBy0", t."Id1", t."Code", t."CompanyId", t."CostCenterId", t."CreatedAt1", t."CreatedBy1", t."Description", t."Name0", t."NationalityId", t."Status1", t."UpdatedAt1", t."UpdatedBy1", t."Id2", t."CompanyId0", t."CostCenterId0", t."CreatedAt2", t."CreatedBy2", t."DepartmentId", t."Email0", t."EmployeeCategoryId", t."EmployeeId", t."EmployeePositionId", t."FirstName", t."LastName", t."NationalityId0", t."Phone0", t."ProjectId0", t."Status2", t."SubDepartmentId", t."UpdatedAt2", t."UpdatedBy2", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."ItemId", t0."Notes", t0."PurchaseOrderId", t0."Quantity", t0."UnitPrice", t0."UpdatedAt", t0."UpdatedBy", t0."Id0", t0."CreatedAt0", t0."CreatedBy0", t0."Description", t0."ItemCategoryId", t0."Name", t0."Status", t0."UpdatedAt0", t0."UpdatedBy0"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy", s."Id" AS "Id0", s."Address", s."ContactPerson", s."CreatedAt" AS "CreatedAt0", s."CreatedBy" AS "CreatedBy0", s."Email", s."Name", s."Phone", s."Status" AS "Status0", s."UpdatedAt" AS "UpdatedAt0", s."UpdatedBy" AS "UpdatedBy0", p0."Id" AS "Id1", p0."Code", p0."CompanyId", p0."CostCenterId", p0."CreatedAt" AS "CreatedAt1", p0."CreatedBy" AS "CreatedBy1", p0."Description", p0."Name" AS "Name0", p0."NationalityId", p0."Status" AS "Status1", p0."UpdatedAt" AS "UpdatedAt1", p0."UpdatedBy" AS "UpdatedBy1", e."Id" AS "Id2", e."CompanyId" AS "CompanyId0", e."CostCenterId" AS "CostCenterId0", e."CreatedAt" AS "CreatedAt2", e."CreatedBy" AS "CreatedBy2", e."DepartmentId", e."Email" AS "Email0", e."EmployeeCategoryId", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."NationalityId" AS "NationalityId0", e."Phone" AS "Phone0", e."ProjectId" AS "ProjectId0", e."Status" AS "Status2", e."SubDepartmentId", e."UpdatedAt" AS "UpdatedAt2", e."UpdatedBy" AS "UpdatedBy2"
    FROM "PurchaseOrders" AS p
    INNER JOIN "Suppliers" AS s ON p."SupplierId" = s."Id"
    INNER JOIN "Projects" AS p0 ON p."ProjectId" = p0."Id"
    LEFT JOIN "Employees" AS e ON p."RequestedById" = e."Id"
    WHERE p."Id" = @__request_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p1."Id", p1."CreatedAt", p1."CreatedBy", p1."ItemId", p1."Notes", p1."PurchaseOrderId", p1."Quantity", p1."UnitPrice", p1."UpdatedAt", p1."UpdatedBy", i."Id" AS "Id0", i."CreatedAt" AS "CreatedAt0", i."CreatedBy" AS "CreatedBy0", i."Description", i."ItemCategoryId", i."Name", i."Status", i."UpdatedAt" AS "UpdatedAt0", i."UpdatedBy" AS "UpdatedBy0"
    FROM "PurchaseOrderItems" AS p1
    INNER JOIN "Items" AS i ON p1."ItemId" = i."Id"
) AS t0 ON t."Id" = t0."PurchaseOrderId"
ORDER BY t."Id", t."Id0", t."Id1", t."Id2", t0."Id"
2025-10-17 13:58:33.583 +03:00 [INF] Successfully handled GetPurchaseOrderByIdQuery
2025-10-17 13:58:33.584 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 13:58:33.586 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API) in 16.3868ms
2025-10-17 13:58:33.588 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 13:58:33.589 +03:00 [INF] HTTP GET /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 26.8235 ms
2025-10-17 13:58:33.591 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 33.9223ms
2025-10-17 14:00:33.499 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 14:00:33.523 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:33.525 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.5094 ms
2025-10-17 14:00:33.527 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 27.1899ms
2025-10-17 14:00:33.541 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 14:00:33.545 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:33.546 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 14:00:33.548 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:00:33.551 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 14:00:33.562 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 14:00:33.576 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 14:00:33.579 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 14:00:33.580 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:33.581 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 30.2126ms
2025-10-17 14:00:33.583 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 14:00:33.584 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 39.0557 ms
2025-10-17 14:00:33.586 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 45.2144ms
2025-10-17 14:00:36.002 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 14:00:36.005 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.007 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 1.3769 ms
2025-10-17 14:00:36.009 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 7.2898ms
2025-10-17 14:00:36.013 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json null
2025-10-17 14:00:36.016 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.018 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 14:00:36.020 +03:00 [INF] Route matched with {action = "GetPurchaseOrderById", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] GetPurchaseOrderById(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:00:36.024 +03:00 [INF] Handling GetPurchaseOrderByIdQuery
2025-10-17 14:00:36.036 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActualDeliveryDate", t."CreatedAt", t."CreatedBy", t."ExpectedDeliveryDate", t."Notes", t."PoDate", t."PoNumber", t."ProjectId", t."RequestedById", t."Status", t."SupplierId", t."TotalAmount", t."UpdatedAt", t."UpdatedBy", t."Id0", t."Address", t."ContactPerson", t."CreatedAt0", t."CreatedBy0", t."Email", t."Name", t."Phone", t."Status0", t."UpdatedAt0", t."UpdatedBy0", t."Id1", t."Code", t."CompanyId", t."CostCenterId", t."CreatedAt1", t."CreatedBy1", t."Description", t."Name0", t."NationalityId", t."Status1", t."UpdatedAt1", t."UpdatedBy1", t."Id2", t."CompanyId0", t."CostCenterId0", t."CreatedAt2", t."CreatedBy2", t."DepartmentId", t."Email0", t."EmployeeCategoryId", t."EmployeeId", t."EmployeePositionId", t."FirstName", t."LastName", t."NationalityId0", t."Phone0", t."ProjectId0", t."Status2", t."SubDepartmentId", t."UpdatedAt2", t."UpdatedBy2", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."ItemId", t0."Notes", t0."PurchaseOrderId", t0."Quantity", t0."UnitPrice", t0."UpdatedAt", t0."UpdatedBy", t0."Id0", t0."CreatedAt0", t0."CreatedBy0", t0."Description", t0."ItemCategoryId", t0."Name", t0."Status", t0."UpdatedAt0", t0."UpdatedBy0"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy", s."Id" AS "Id0", s."Address", s."ContactPerson", s."CreatedAt" AS "CreatedAt0", s."CreatedBy" AS "CreatedBy0", s."Email", s."Name", s."Phone", s."Status" AS "Status0", s."UpdatedAt" AS "UpdatedAt0", s."UpdatedBy" AS "UpdatedBy0", p0."Id" AS "Id1", p0."Code", p0."CompanyId", p0."CostCenterId", p0."CreatedAt" AS "CreatedAt1", p0."CreatedBy" AS "CreatedBy1", p0."Description", p0."Name" AS "Name0", p0."NationalityId", p0."Status" AS "Status1", p0."UpdatedAt" AS "UpdatedAt1", p0."UpdatedBy" AS "UpdatedBy1", e."Id" AS "Id2", e."CompanyId" AS "CompanyId0", e."CostCenterId" AS "CostCenterId0", e."CreatedAt" AS "CreatedAt2", e."CreatedBy" AS "CreatedBy2", e."DepartmentId", e."Email" AS "Email0", e."EmployeeCategoryId", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."NationalityId" AS "NationalityId0", e."Phone" AS "Phone0", e."ProjectId" AS "ProjectId0", e."Status" AS "Status2", e."SubDepartmentId", e."UpdatedAt" AS "UpdatedAt2", e."UpdatedBy" AS "UpdatedBy2"
    FROM "PurchaseOrders" AS p
    INNER JOIN "Suppliers" AS s ON p."SupplierId" = s."Id"
    INNER JOIN "Projects" AS p0 ON p."ProjectId" = p0."Id"
    LEFT JOIN "Employees" AS e ON p."RequestedById" = e."Id"
    WHERE p."Id" = @__request_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p1."Id", p1."CreatedAt", p1."CreatedBy", p1."ItemId", p1."Notes", p1."PurchaseOrderId", p1."Quantity", p1."UnitPrice", p1."UpdatedAt", p1."UpdatedBy", i."Id" AS "Id0", i."CreatedAt" AS "CreatedAt0", i."CreatedBy" AS "CreatedBy0", i."Description", i."ItemCategoryId", i."Name", i."Status", i."UpdatedAt" AS "UpdatedAt0", i."UpdatedBy" AS "UpdatedBy0"
    FROM "PurchaseOrderItems" AS p1
    INNER JOIN "Items" AS i ON p1."ItemId" = i."Id"
) AS t0 ON t."Id" = t0."PurchaseOrderId"
ORDER BY t."Id", t."Id0", t."Id1", t."Id2", t0."Id"
2025-10-17 14:00:36.119 +03:00 [INF] Successfully handled GetPurchaseOrderByIdQuery
2025-10-17 14:00:36.121 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 14:00:36.123 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API) in 99.5492ms
2025-10-17 14:00:36.125 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 14:00:36.126 +03:00 [INF] HTTP GET /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 109.8523 ms
2025-10-17 14:00:36.128 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 114.906ms
2025-10-17 14:00:36.172 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 14:00:36.175 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.176 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 14:00:36.177 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 1.5973 ms
2025-10-17 14:00:36.179 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 14:00:36.181 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.184 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 11.4548ms
2025-10-17 14:00:36.185 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 14:00:36.186 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.187 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 6.4883 ms
2025-10-17 14:00:36.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 14:00:36.195 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 14:00:36.196 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.196 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 10.0302 ms
2025-10-17 14:00:36.198 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 22.6763ms
2025-10-17 14:00:36.202 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.205 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.206 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 10.2566 ms
2025-10-17 14:00:36.208 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 28.5114ms
2025-10-17 14:00:36.212 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 14:00:36.213 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 14:00:36.213 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 7.6510 ms
2025-10-17 14:00:36.217 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 31.4103ms
2025-10-17 14:00:36.220 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 14:00:36.222 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.223 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 14:00:36.225 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 29.7824ms
2025-10-17 14:00:36.229 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 14:00:36.232 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.233 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 14:00:36.235 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 14:00:36.239 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.240 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 14:00:36.241 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 14:00:36.242 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 14:00:36.243 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 14:00:36.243 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 14:00:36.247 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 14:00:36.247 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 14:00:36.250 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 14:00:36.251 +03:00 [INF] Handling GetItemsQuery
2025-10-17 14:00:36.253 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 14:00:36.255 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 14:00:36.259 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:36.259 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 14:00:36.263 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 28.3711ms
2025-10-17 14:00:36.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 14:00:36.265 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 14:00:36.269 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 14:00:36.270 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.271 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 68.5024 ms
2025-10-17 14:00:36.277 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 14:00:36.278 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 14:00:36.281 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 89.9451ms
2025-10-17 14:00:36.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:36.288 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 14:00:36.294 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 43.8898ms
2025-10-17 14:00:36.296 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 14:00:36.296 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 14:00:36.298 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 14:00:36.300 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:36.302 +03:00 [INF] HTTP GET /api/Items responded 200 in 70.1007 ms
2025-10-17 14:00:36.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 14:00:36.304 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 14:00:36.305 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 85.2767ms
2025-10-17 14:00:36.308 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 14:00:36.309 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 14:00:36.310 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 14:00:36.311 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 14:00:36.313 +03:00 [INF] Handling GetItemsQuery
2025-10-17 14:00:36.317 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 14:00:36.322 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:36.323 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 26.7087ms
2025-10-17 14:00:36.324 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 14:00:36.325 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 14:00:36.326 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 14:00:36.328 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 57.6425 ms
2025-10-17 14:00:36.334 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 14:00:36.334 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 14:00:36.336 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 71.7149ms
2025-10-17 14:00:36.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:36.339 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 14:00:36.344 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 91.6213ms
2025-10-17 14:00:36.351 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:36.353 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 14:00:36.354 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 41.059ms
2025-10-17 14:00:36.355 +03:00 [INF] HTTP GET /api/Projects responded 200 in 116.3131 ms
2025-10-17 14:00:36.356 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 14:00:36.356 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 14:00:36.358 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 128.8462ms
2025-10-17 14:00:36.367 +03:00 [INF] HTTP GET /api/Items responded 200 in 66.6889 ms
2025-10-17 14:00:36.379 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 82.6574ms
2025-10-17 14:00:36.380 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 14:00:36.383 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:36.397 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 151.1694ms
2025-10-17 14:00:36.399 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 14:00:36.400 +03:00 [INF] HTTP GET /api/Employees responded 200 in 177.5010 ms
2025-10-17 14:00:36.401 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 189.5115ms
2025-10-17 14:00:46.206 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 14:00:46.209 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:46.210 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 1.0972 ms
2025-10-17 14:00:46.213 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 7.126ms
2025-10-17 14:00:46.216 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json 262
2025-10-17 14:00:46.220 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:46.222 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 14:00:46.224 +03:00 [INF] Route matched with {action = "UpdatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] UpdatePurchaseOrder(System.String, salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderUpdateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:00:46.230 +03:00 [INF] Handling UpdatePurchaseOrderCommand
2025-10-17 14:00:46.234 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy"
FROM "PurchaseOrders" AS p
WHERE p."Id" = @__p_0
LIMIT 1
2025-10-17 14:00:46.246 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?', @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PurchaseOrders" SET "UpdatedAt" = @p0
WHERE "Id" = @p1;
2025-10-17 14:00:46.248 +03:00 [INF] Successfully handled UpdatePurchaseOrderCommand
2025-10-17 14:00:46.249 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 14:00:46.251 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API) in 23.6732ms
2025-10-17 14:00:46.253 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 14:00:46.254 +03:00 [INF] HTTP PUT /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 33.5673 ms
2025-10-17 14:00:46.255 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 39.1157ms
2025-10-17 14:00:46.263 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 14:00:46.266 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:46.267 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.0116 ms
2025-10-17 14:00:46.269 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 6.0873ms
2025-10-17 14:00:46.273 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 14:00:46.279 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:46.280 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 14:00:46.281 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:00:46.283 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 14:00:46.290 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 14:00:46.295 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 14:00:46.302 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 14:00:46.303 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:46.305 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 21.4036ms
2025-10-17 14:00:46.307 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 14:00:46.308 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 28.8734 ms
2025-10-17 14:00:46.309 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 36.5388ms
2025-10-17 14:00:48.634 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json null
2025-10-17 14:00:48.639 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:48.641 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 14:00:48.642 +03:00 [INF] Route matched with {action = "GetPurchaseOrderById", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] GetPurchaseOrderById(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:00:48.646 +03:00 [INF] Handling GetPurchaseOrderByIdQuery
2025-10-17 14:00:48.657 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActualDeliveryDate", t."CreatedAt", t."CreatedBy", t."ExpectedDeliveryDate", t."Notes", t."PoDate", t."PoNumber", t."ProjectId", t."RequestedById", t."Status", t."SupplierId", t."TotalAmount", t."UpdatedAt", t."UpdatedBy", t."Id0", t."Address", t."ContactPerson", t."CreatedAt0", t."CreatedBy0", t."Email", t."Name", t."Phone", t."Status0", t."UpdatedAt0", t."UpdatedBy0", t."Id1", t."Code", t."CompanyId", t."CostCenterId", t."CreatedAt1", t."CreatedBy1", t."Description", t."Name0", t."NationalityId", t."Status1", t."UpdatedAt1", t."UpdatedBy1", t."Id2", t."CompanyId0", t."CostCenterId0", t."CreatedAt2", t."CreatedBy2", t."DepartmentId", t."Email0", t."EmployeeCategoryId", t."EmployeeId", t."EmployeePositionId", t."FirstName", t."LastName", t."NationalityId0", t."Phone0", t."ProjectId0", t."Status2", t."SubDepartmentId", t."UpdatedAt2", t."UpdatedBy2", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."ItemId", t0."Notes", t0."PurchaseOrderId", t0."Quantity", t0."UnitPrice", t0."UpdatedAt", t0."UpdatedBy", t0."Id0", t0."CreatedAt0", t0."CreatedBy0", t0."Description", t0."ItemCategoryId", t0."Name", t0."Status", t0."UpdatedAt0", t0."UpdatedBy0"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy", s."Id" AS "Id0", s."Address", s."ContactPerson", s."CreatedAt" AS "CreatedAt0", s."CreatedBy" AS "CreatedBy0", s."Email", s."Name", s."Phone", s."Status" AS "Status0", s."UpdatedAt" AS "UpdatedAt0", s."UpdatedBy" AS "UpdatedBy0", p0."Id" AS "Id1", p0."Code", p0."CompanyId", p0."CostCenterId", p0."CreatedAt" AS "CreatedAt1", p0."CreatedBy" AS "CreatedBy1", p0."Description", p0."Name" AS "Name0", p0."NationalityId", p0."Status" AS "Status1", p0."UpdatedAt" AS "UpdatedAt1", p0."UpdatedBy" AS "UpdatedBy1", e."Id" AS "Id2", e."CompanyId" AS "CompanyId0", e."CostCenterId" AS "CostCenterId0", e."CreatedAt" AS "CreatedAt2", e."CreatedBy" AS "CreatedBy2", e."DepartmentId", e."Email" AS "Email0", e."EmployeeCategoryId", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."NationalityId" AS "NationalityId0", e."Phone" AS "Phone0", e."ProjectId" AS "ProjectId0", e."Status" AS "Status2", e."SubDepartmentId", e."UpdatedAt" AS "UpdatedAt2", e."UpdatedBy" AS "UpdatedBy2"
    FROM "PurchaseOrders" AS p
    INNER JOIN "Suppliers" AS s ON p."SupplierId" = s."Id"
    INNER JOIN "Projects" AS p0 ON p."ProjectId" = p0."Id"
    LEFT JOIN "Employees" AS e ON p."RequestedById" = e."Id"
    WHERE p."Id" = @__request_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p1."Id", p1."CreatedAt", p1."CreatedBy", p1."ItemId", p1."Notes", p1."PurchaseOrderId", p1."Quantity", p1."UnitPrice", p1."UpdatedAt", p1."UpdatedBy", i."Id" AS "Id0", i."CreatedAt" AS "CreatedAt0", i."CreatedBy" AS "CreatedBy0", i."Description", i."ItemCategoryId", i."Name", i."Status", i."UpdatedAt" AS "UpdatedAt0", i."UpdatedBy" AS "UpdatedBy0"
    FROM "PurchaseOrderItems" AS p1
    INNER JOIN "Items" AS i ON p1."ItemId" = i."Id"
) AS t0 ON t."Id" = t0."PurchaseOrderId"
ORDER BY t."Id", t."Id0", t."Id1", t."Id2", t0."Id"
2025-10-17 14:00:48.663 +03:00 [INF] Successfully handled GetPurchaseOrderByIdQuery
2025-10-17 14:00:48.664 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 14:00:48.666 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API) in 20.1444ms
2025-10-17 14:00:48.667 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 14:00:48.669 +03:00 [INF] HTTP GET /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 29.8275 ms
2025-10-17 14:00:48.671 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 36.8026ms
2025-10-17 14:00:48.712 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 14:00:48.716 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 14:00:48.716 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:48.719 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:48.720 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 3.5811 ms
2025-10-17 14:00:48.721 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 2.5387 ms
2025-10-17 14:00:48.723 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 11.1669ms
2025-10-17 14:00:48.725 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 9.3842ms
2025-10-17 14:00:48.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 14:00:48.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 14:00:48.736 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:48.738 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:48.739 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 14:00:48.740 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 14:00:48.741 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 14:00:48.743 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 14:00:48.747 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 14:00:48.750 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 14:00:48.752 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 14:00:48.753 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 14:00:48.765 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 14:00:48.768 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 14:00:48.769 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:48.770 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 20.2457ms
2025-10-17 14:00:48.772 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 14:00:48.773 +03:00 [INF] HTTP GET /api/Projects responded 200 in 34.4334 ms
2025-10-17 14:00:48.775 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 41.862ms
2025-10-17 14:00:48.778 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 14:00:48.792 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 14:00:48.794 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:48.800 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 54.2758ms
2025-10-17 14:00:48.802 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 14:00:48.803 +03:00 [INF] HTTP GET /api/Employees responded 200 in 66.3992 ms
2025-10-17 14:00:48.804 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 75.6373ms
2025-10-17 14:00:56.993 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 14:00:56.997 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:56.998 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 0.9729 ms
2025-10-17 14:00:57.000 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 7.057ms
2025-10-17 14:00:57.003 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json 262
2025-10-17 14:00:57.007 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:57.011 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 14:00:57.013 +03:00 [INF] Route matched with {action = "UpdatePurchaseOrder", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] UpdatePurchaseOrder(System.String, salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderUpdateDto) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:00:57.016 +03:00 [INF] Handling UpdatePurchaseOrderCommand
2025-10-17 14:00:57.019 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy"
FROM "PurchaseOrders" AS p
WHERE p."Id" = @__p_0
LIMIT 1
2025-10-17 14:00:57.029 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?', @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PurchaseOrders" SET "RequestedById" = @p0, "UpdatedAt" = @p1
WHERE "Id" = @p2;
2025-10-17 14:00:57.032 +03:00 [INF] Successfully handled UpdatePurchaseOrderCommand
2025-10-17 14:00:57.033 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 14:00:57.035 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API) in 19.7843ms
2025-10-17 14:00:57.036 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.UpdatePurchaseOrder (salini.api.API)'
2025-10-17 14:00:57.037 +03:00 [INF] HTTP PUT /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 30.2847 ms
2025-10-17 14:00:57.039 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 36.4922ms
2025-10-17 14:00:57.045 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 14:00:57.047 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:57.048 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 0.7902 ms
2025-10-17 14:00:57.049 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 4.5067ms
2025-10-17 14:00:57.054 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 14:00:57.058 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:57.060 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 14:00:57.062 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:00:57.064 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 14:00:57.066 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 14:00:57.074 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 14:00:57.080 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 14:00:57.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:57.083 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 18.7596ms
2025-10-17 14:00:57.085 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 14:00:57.086 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 28.1366 ms
2025-10-17 14:00:57.089 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 35.2087ms
2025-10-17 14:00:59.283 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json null
2025-10-17 14:00:59.287 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:59.289 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 14:00:59.291 +03:00 [INF] Route matched with {action = "GetPurchaseOrderById", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] GetPurchaseOrderById(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:00:59.293 +03:00 [INF] Handling GetPurchaseOrderByIdQuery
2025-10-17 14:00:59.298 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActualDeliveryDate", t."CreatedAt", t."CreatedBy", t."ExpectedDeliveryDate", t."Notes", t."PoDate", t."PoNumber", t."ProjectId", t."RequestedById", t."Status", t."SupplierId", t."TotalAmount", t."UpdatedAt", t."UpdatedBy", t."Id0", t."Address", t."ContactPerson", t."CreatedAt0", t."CreatedBy0", t."Email", t."Name", t."Phone", t."Status0", t."UpdatedAt0", t."UpdatedBy0", t."Id1", t."Code", t."CompanyId", t."CostCenterId", t."CreatedAt1", t."CreatedBy1", t."Description", t."Name0", t."NationalityId", t."Status1", t."UpdatedAt1", t."UpdatedBy1", t."Id2", t."CompanyId0", t."CostCenterId0", t."CreatedAt2", t."CreatedBy2", t."DepartmentId", t."Email0", t."EmployeeCategoryId", t."EmployeeId", t."EmployeePositionId", t."FirstName", t."LastName", t."NationalityId0", t."Phone0", t."ProjectId0", t."Status2", t."SubDepartmentId", t."UpdatedAt2", t."UpdatedBy2", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."ItemId", t0."Notes", t0."PurchaseOrderId", t0."Quantity", t0."UnitPrice", t0."UpdatedAt", t0."UpdatedBy", t0."Id0", t0."CreatedAt0", t0."CreatedBy0", t0."Description", t0."ItemCategoryId", t0."Name", t0."Status", t0."UpdatedAt0", t0."UpdatedBy0"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy", s."Id" AS "Id0", s."Address", s."ContactPerson", s."CreatedAt" AS "CreatedAt0", s."CreatedBy" AS "CreatedBy0", s."Email", s."Name", s."Phone", s."Status" AS "Status0", s."UpdatedAt" AS "UpdatedAt0", s."UpdatedBy" AS "UpdatedBy0", p0."Id" AS "Id1", p0."Code", p0."CompanyId", p0."CostCenterId", p0."CreatedAt" AS "CreatedAt1", p0."CreatedBy" AS "CreatedBy1", p0."Description", p0."Name" AS "Name0", p0."NationalityId", p0."Status" AS "Status1", p0."UpdatedAt" AS "UpdatedAt1", p0."UpdatedBy" AS "UpdatedBy1", e."Id" AS "Id2", e."CompanyId" AS "CompanyId0", e."CostCenterId" AS "CostCenterId0", e."CreatedAt" AS "CreatedAt2", e."CreatedBy" AS "CreatedBy2", e."DepartmentId", e."Email" AS "Email0", e."EmployeeCategoryId", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."NationalityId" AS "NationalityId0", e."Phone" AS "Phone0", e."ProjectId" AS "ProjectId0", e."Status" AS "Status2", e."SubDepartmentId", e."UpdatedAt" AS "UpdatedAt2", e."UpdatedBy" AS "UpdatedBy2"
    FROM "PurchaseOrders" AS p
    INNER JOIN "Suppliers" AS s ON p."SupplierId" = s."Id"
    INNER JOIN "Projects" AS p0 ON p."ProjectId" = p0."Id"
    LEFT JOIN "Employees" AS e ON p."RequestedById" = e."Id"
    WHERE p."Id" = @__request_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p1."Id", p1."CreatedAt", p1."CreatedBy", p1."ItemId", p1."Notes", p1."PurchaseOrderId", p1."Quantity", p1."UnitPrice", p1."UpdatedAt", p1."UpdatedBy", i."Id" AS "Id0", i."CreatedAt" AS "CreatedAt0", i."CreatedBy" AS "CreatedBy0", i."Description", i."ItemCategoryId", i."Name", i."Status", i."UpdatedAt" AS "UpdatedAt0", i."UpdatedBy" AS "UpdatedBy0"
    FROM "PurchaseOrderItems" AS p1
    INNER JOIN "Items" AS i ON p1."ItemId" = i."Id"
) AS t0 ON t."Id" = t0."PurchaseOrderId"
ORDER BY t."Id", t."Id0", t."Id1", t."Id2", t0."Id"
2025-10-17 14:00:59.303 +03:00 [INF] Successfully handled GetPurchaseOrderByIdQuery
2025-10-17 14:00:59.304 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 14:00:59.306 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API) in 13.0234ms
2025-10-17 14:00:59.308 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 14:00:59.311 +03:00 [INF] HTTP GET /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 23.4214 ms
2025-10-17 14:00:59.313 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 29.4014ms
2025-10-17 14:00:59.351 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 14:00:59.354 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:59.355 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 14:00:59.355 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 1.1770 ms
2025-10-17 14:00:59.358 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:59.361 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 9.5033ms
2025-10-17 14:00:59.362 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 4.0790 ms
2025-10-17 14:00:59.366 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 14:00:59.368 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 13.2839ms
2025-10-17 14:00:59.371 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:59.377 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 14:00:59.378 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 14:00:59.383 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:00:59.384 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 14:00:59.386 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 14:00:59.388 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 14:00:59.390 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 14:00:59.392 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 14:00:59.394 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 14:00:59.401 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 14:00:59.405 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 14:00:59.406 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 14:00:59.410 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 14:00:59.412 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:59.414 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 21.0361ms
2025-10-17 14:00:59.416 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 14:00:59.417 +03:00 [INF] HTTP GET /api/Projects responded 200 in 34.3523 ms
2025-10-17 14:00:59.419 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 42.6847ms
2025-10-17 14:00:59.420 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 14:00:59.424 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:00:59.426 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 38.1817ms
2025-10-17 14:00:59.427 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 14:00:59.429 +03:00 [INF] HTTP GET /api/Employees responded 200 in 58.1537 ms
2025-10-17 14:00:59.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 66.301ms
2025-10-17 14:01:03.642 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - null null
2025-10-17 14:01:03.644 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:03.645 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders responded 204 in 1.2726 ms
2025-10-17 14:01:03.647 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 204 null null 5.1847ms
2025-10-17 14:01:03.651 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - application/json null
2025-10-17 14:01:03.654 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:03.656 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 14:01:03.658 +03:00 [INF] Route matched with {action = "GetPurchaseOrders", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto]]] GetPurchaseOrders(Int32, Int32, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:01:03.662 +03:00 [INF] Handling GetPurchaseOrdersQuery
2025-10-17 14:01:03.664 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "PurchaseOrders" AS p
2025-10-17 14:01:03.669 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."PoNumber", t."PoDate", t."ExpectedDeliveryDate", t."ActualDeliveryDate", t."Status", (
    SELECT COALESCE(sum(p1."Quantity"::numeric(18,2) * p1."UnitPrice"), 0.0)
    FROM "PurchaseOrderItems" AS p1
    WHERE t."Id" = p1."PurchaseOrderId"), e."Id" IS NOT NULL, e."FirstName", e."LastName", s."Name", p0."Name", (
    SELECT count(*)::int
    FROM "PurchaseOrderItems" AS p2
    WHERE t."Id" = p2."PurchaseOrderId")
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."ExpectedDeliveryDate", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId"
    FROM "PurchaseOrders" AS p
    ORDER BY p."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Employees" AS e ON t."RequestedById" = e."Id"
INNER JOIN "Suppliers" AS s ON t."SupplierId" = s."Id"
INNER JOIN "Projects" AS p0 ON t."ProjectId" = p0."Id"
ORDER BY t."CreatedAt" DESC
2025-10-17 14:01:03.673 +03:00 [INF] Successfully handled GetPurchaseOrdersQuery
2025-10-17 14:01:03.674 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:01:03.678 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API) in 15.7402ms
2025-10-17 14:01:03.679 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrders (salini.api.API)'
2025-10-17 14:01:03.680 +03:00 [INF] HTTP GET /api/PurchaseOrders responded 200 in 25.7659 ms
2025-10-17 14:01:03.682 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders?pageNumber=1&pageSize=1000&sortBy=createdAt&sortDescending=true - 200 null application/json; charset=utf-8 30.6201ms
2025-10-17 14:01:05.629 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - null null
2025-10-17 14:01:05.635 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.636 +03:00 [INF] HTTP OPTIONS /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 204 in 0.8478 ms
2025-10-17 14:01:05.638 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 204 null null 8.5446ms
2025-10-17 14:01:05.642 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - application/json null
2025-10-17 14:01:05.645 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.646 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 14:01:05.647 +03:00 [INF] Route matched with {action = "GetPurchaseOrderById", controller = "PurchaseOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto]] GetPurchaseOrderById(System.String) on controller salini.api.API.Controllers.PurchaseOrdersController (salini.api.API).
2025-10-17 14:01:05.649 +03:00 [INF] Handling GetPurchaseOrderByIdQuery
2025-10-17 14:01:05.655 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActualDeliveryDate", t."CreatedAt", t."CreatedBy", t."ExpectedDeliveryDate", t."Notes", t."PoDate", t."PoNumber", t."ProjectId", t."RequestedById", t."Status", t."SupplierId", t."TotalAmount", t."UpdatedAt", t."UpdatedBy", t."Id0", t."Address", t."ContactPerson", t."CreatedAt0", t."CreatedBy0", t."Email", t."Name", t."Phone", t."Status0", t."UpdatedAt0", t."UpdatedBy0", t."Id1", t."Code", t."CompanyId", t."CostCenterId", t."CreatedAt1", t."CreatedBy1", t."Description", t."Name0", t."NationalityId", t."Status1", t."UpdatedAt1", t."UpdatedBy1", t."Id2", t."CompanyId0", t."CostCenterId0", t."CreatedAt2", t."CreatedBy2", t."DepartmentId", t."Email0", t."EmployeeCategoryId", t."EmployeeId", t."EmployeePositionId", t."FirstName", t."LastName", t."NationalityId0", t."Phone0", t."ProjectId0", t."Status2", t."SubDepartmentId", t."UpdatedAt2", t."UpdatedBy2", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."ItemId", t0."Notes", t0."PurchaseOrderId", t0."Quantity", t0."UnitPrice", t0."UpdatedAt", t0."UpdatedBy", t0."Id0", t0."CreatedAt0", t0."CreatedBy0", t0."Description", t0."ItemCategoryId", t0."Name", t0."Status", t0."UpdatedAt0", t0."UpdatedBy0"
FROM (
    SELECT p."Id", p."ActualDeliveryDate", p."CreatedAt", p."CreatedBy", p."ExpectedDeliveryDate", p."Notes", p."PoDate", p."PoNumber", p."ProjectId", p."RequestedById", p."Status", p."SupplierId", p."TotalAmount", p."UpdatedAt", p."UpdatedBy", s."Id" AS "Id0", s."Address", s."ContactPerson", s."CreatedAt" AS "CreatedAt0", s."CreatedBy" AS "CreatedBy0", s."Email", s."Name", s."Phone", s."Status" AS "Status0", s."UpdatedAt" AS "UpdatedAt0", s."UpdatedBy" AS "UpdatedBy0", p0."Id" AS "Id1", p0."Code", p0."CompanyId", p0."CostCenterId", p0."CreatedAt" AS "CreatedAt1", p0."CreatedBy" AS "CreatedBy1", p0."Description", p0."Name" AS "Name0", p0."NationalityId", p0."Status" AS "Status1", p0."UpdatedAt" AS "UpdatedAt1", p0."UpdatedBy" AS "UpdatedBy1", e."Id" AS "Id2", e."CompanyId" AS "CompanyId0", e."CostCenterId" AS "CostCenterId0", e."CreatedAt" AS "CreatedAt2", e."CreatedBy" AS "CreatedBy2", e."DepartmentId", e."Email" AS "Email0", e."EmployeeCategoryId", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."NationalityId" AS "NationalityId0", e."Phone" AS "Phone0", e."ProjectId" AS "ProjectId0", e."Status" AS "Status2", e."SubDepartmentId", e."UpdatedAt" AS "UpdatedAt2", e."UpdatedBy" AS "UpdatedBy2"
    FROM "PurchaseOrders" AS p
    INNER JOIN "Suppliers" AS s ON p."SupplierId" = s."Id"
    INNER JOIN "Projects" AS p0 ON p."ProjectId" = p0."Id"
    LEFT JOIN "Employees" AS e ON p."RequestedById" = e."Id"
    WHERE p."Id" = @__request_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p1."Id", p1."CreatedAt", p1."CreatedBy", p1."ItemId", p1."Notes", p1."PurchaseOrderId", p1."Quantity", p1."UnitPrice", p1."UpdatedAt", p1."UpdatedBy", i."Id" AS "Id0", i."CreatedAt" AS "CreatedAt0", i."CreatedBy" AS "CreatedBy0", i."Description", i."ItemCategoryId", i."Name", i."Status", i."UpdatedAt" AS "UpdatedAt0", i."UpdatedBy" AS "UpdatedBy0"
    FROM "PurchaseOrderItems" AS p1
    INNER JOIN "Items" AS i ON p1."ItemId" = i."Id"
) AS t0 ON t."Id" = t0."PurchaseOrderId"
ORDER BY t."Id", t."Id0", t."Id1", t."Id2", t0."Id"
2025-10-17 14:01:05.660 +03:00 [INF] Successfully handled GetPurchaseOrderByIdQuery
2025-10-17 14:01:05.661 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PurchaseOrder.PurchaseOrderDto'.
2025-10-17 14:01:05.662 +03:00 [INF] Executed action salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API) in 12.7466ms
2025-10-17 14:01:05.663 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.PurchaseOrdersController.GetPurchaseOrderById (salini.api.API)'
2025-10-17 14:01:05.665 +03:00 [INF] HTTP GET /api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 responded 200 in 19.6136 ms
2025-10-17 14:01:05.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/PurchaseOrders/f86ce97d-0512-4078-b898-f375a4e5c3d9 - 200 null application/json; charset=utf-8 24.7122ms
2025-10-17 14:01:05.704 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 14:01:05.707 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - null null
2025-10-17 14:01:05.707 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.710 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 14:01:05.710 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.715 +03:00 [INF] HTTP OPTIONS /api/Employees responded 204 in 5.5779 ms
2025-10-17 14:01:05.715 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.711 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 3.4734 ms
2025-10-17 14:01:05.717 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Employees?pageSize=1000 - 204 null null 10.7359ms
2025-10-17 14:01:05.719 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 4.0530 ms
2025-10-17 14:01:05.722 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - null null
2025-10-17 14:01:05.716 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - null null
2025-10-17 14:01:05.729 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - null null
2025-10-17 14:01:05.730 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 25.5576ms
2025-10-17 14:01:05.733 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - application/json null
2025-10-17 14:01:05.735 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 25.789ms
2025-10-17 14:01:05.738 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.742 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.745 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.749 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 14:01:05.752 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.756 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 14:01:05.758 +03:00 [INF] HTTP OPTIONS /api/Suppliers responded 204 in 20.6737 ms
2025-10-17 14:01:05.760 +03:00 [INF] HTTP OPTIONS /api/Projects responded 204 in 18.5353 ms
2025-10-17 14:01:05.761 +03:00 [INF] HTTP OPTIONS /api/Items responded 204 in 16.2302 ms
2025-10-17 14:01:05.763 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.764 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 14:01:05.766 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.768 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Suppliers?pageSize=1000 - 204 null null 46.2414ms
2025-10-17 14:01:05.770 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 204 null null 53.7441ms
2025-10-17 14:01:05.772 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/Items?pageSize=1000 - 204 null null 42.8863ms
2025-10-17 14:01:05.773 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 14:01:05.774 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Employee.EmployeeListDto]]] GetEmployees(Int32, Int32, System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.String, Boolean) on controller salini.api.API.Controllers.EmployeesController (salini.api.API).
2025-10-17 14:01:05.777 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 14:01:05.784 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - application/json null
2025-10-17 14:01:05.788 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 14:01:05.792 +03:00 [INF] Handling GetEmployeesQuery
2025-10-17 14:01:05.793 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 14:01:05.798 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.800 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 14:01:05.802 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Employees" AS e
2025-10-17 14:01:05.803 +03:00 [INF] Handling GetItemsQuery
2025-10-17 14:01:05.804 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 14:01:05.806 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 14:01:05.812 +03:00 [INF] Route matched with {action = "GetProjects", controller = "Projects"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Project.ProjectListDto]]] GetProjects(Int32, Int32, System.String, System.String, Boolean, System.String, System.String) on controller salini.api.API.Controllers.ProjectsController (salini.api.API).
2025-10-17 14:01:05.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 14:01:05.814 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 14:01:05.816 +03:00 [INF] Handling GetProjectsQuery
2025-10-17 14:01:05.817 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."EmployeeId", t."FirstName", t."LastName", t."Email", t."Phone", d."Name", s."Name", e0."Name", p."Name", c."Name", t."Status", (
    SELECT count(*)::int
    FROM "EmployeeAssets" AS e1
    WHERE t."Id" = e1."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSimCards" AS e2
    WHERE t."Id" = e2."EmployeeId"), (
    SELECT count(*)::int
    FROM "EmployeeSoftwareLicenses" AS e3
    WHERE t."Id" = e3."EmployeeId")
FROM (
    SELECT e."Id", e."CompanyId", e."DepartmentId", e."Email", e."EmployeeId", e."EmployeePositionId", e."FirstName", e."LastName", e."Phone", e."ProjectId", e."Status", e."SubDepartmentId"
    FROM "Employees" AS e
    ORDER BY e."EmployeeId"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Departments" AS d ON t."DepartmentId" = d."Id"
LEFT JOIN "SubDepartments" AS s ON t."SubDepartmentId" = s."Id"
LEFT JOIN "EmployeePositions" AS e0 ON t."EmployeePositionId" = e0."Id"
LEFT JOIN "Projects" AS p ON t."ProjectId" = p."Id"
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
ORDER BY t."EmployeeId"
2025-10-17 14:01:05.819 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 14:01:05.820 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 14:01:05.822 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Projects" AS p
2025-10-17 14:01:05.830 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 14:01:05.832 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:01:05.834 +03:00 [INF] Successfully handled GetEmployeesQuery
2025-10-17 14:01:05.835 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:01:05.837 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Code", t."Name", t."Description", t."Status", CASE
    WHEN c."Id" IS NOT NULL THEN c."Name"
    ELSE ''
END AS "CompanyName", c0."Name" AS "CostCenterName", n."Name" AS "NationalityName", (
    SELECT count(*)::int
    FROM "Employees" AS e
    WHERE e."ProjectId" = t."Id") AS "EmployeeCount"
FROM (
    SELECT p."Id", p."Code", p."CompanyId", p."CostCenterId", p."Description", p."Name", p."NationalityId", p."Status"
    FROM "Projects" AS p
    ORDER BY p."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "Companies" AS c ON t."CompanyId" = c."Id"
LEFT JOIN "CostCenters" AS c0 ON t."CostCenterId" = c0."Id"
LEFT JOIN "Nationalities" AS n ON t."NationalityId" = n."Id"
ORDER BY t."Name"
2025-10-17 14:01:05.837 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 36.9462ms
2025-10-17 14:01:05.838 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Employee.EmployeeListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:01:05.838 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - application/json null
2025-10-17 14:01:05.839 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 36.5981ms
2025-10-17 14:01:05.841 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - application/json null
2025-10-17 14:01:05.841 +03:00 [INF] Successfully handled GetProjectsQuery
2025-10-17 14:01:05.842 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 14:01:05.849 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.849 +03:00 [INF] Executed action salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API) in 57.9444ms
2025-10-17 14:01:05.853 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 14:01:05.856 +03:00 [INF] CORS policy execution successful.
2025-10-17 14:01:05.857 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Project.ProjectListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:01:05.858 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 94.8825 ms
2025-10-17 14:01:05.863 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 14:01:05.863 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.EmployeesController.GetEmployees (salini.api.API)'
2025-10-17 14:01:05.864 +03:00 [INF] HTTP GET /api/Items responded 200 in 97.9549 ms
2025-10-17 14:01:05.865 +03:00 [INF] Executing endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 14:01:05.866 +03:00 [INF] Executed action salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API) in 50.7652ms
2025-10-17 14:01:05.868 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 118.3775ms
2025-10-17 14:01:05.870 +03:00 [INF] Route matched with {action = "GetSuppliers", controller = "Suppliers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Supplier.SupplierListDto]]] GetSuppliers(Int32, Int32, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.SuppliersController (salini.api.API).
2025-10-17 14:01:05.870 +03:00 [INF] HTTP GET /api/Employees responded 200 in 118.7865 ms
2025-10-17 14:01:05.873 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 116.2769ms
2025-10-17 14:01:05.875 +03:00 [INF] Route matched with {action = "GetItems", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[salini.api.Application.DTOs.PaginatedResult`1[salini.api.Application.DTOs.Item.ItemListDto]]] GetItems(Int32, Int32, System.String, System.String, System.String, System.String, Boolean) on controller salini.api.API.Controllers.ItemsController (salini.api.API).
2025-10-17 14:01:05.878 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ProjectsController.GetProjects (salini.api.API)'
2025-10-17 14:01:05.884 +03:00 [INF] Handling GetSuppliersQuery
2025-10-17 14:01:05.886 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Employees?pageSize=1000 - 200 null application/json; charset=utf-8 152.1048ms
2025-10-17 14:01:05.890 +03:00 [INF] Handling GetItemsQuery
2025-10-17 14:01:05.891 +03:00 [INF] HTTP GET /api/Projects responded 200 in 93.3781 ms
2025-10-17 14:01:05.894 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Suppliers" AS s
2025-10-17 14:01:05.901 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Items" AS i
2025-10-17 14:01:05.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Projects?pageNumber=1&pageSize=100&sortBy=name&sortDescending=false - 200 null application/json; charset=utf-8 116.8148ms
2025-10-17 14:01:05.904 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."ContactPerson", s."Email", s."Phone", s."Address", s."Status", s."CreatedAt", s."CreatedBy"
FROM "Suppliers" AS s
ORDER BY s."Name"
LIMIT @__p_1 OFFSET @__p_0
2025-10-17 14:01:05.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Description", t."Status", t."ItemCategoryId", i0."Name", t."CreatedAt", t."CreatedBy"
FROM (
    SELECT i."Id", i."CreatedAt", i."CreatedBy", i."Description", i."ItemCategoryId", i."Name", i."Status"
    FROM "Items" AS i
    ORDER BY i."Name"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "ItemCategories" AS i0 ON t."ItemCategoryId" = i0."Id"
ORDER BY t."Name"
2025-10-17 14:01:05.909 +03:00 [INF] Successfully handled GetSuppliersQuery
2025-10-17 14:01:05.912 +03:00 [INF] Successfully handled GetItemsQuery
2025-10-17 14:01:05.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Supplier.SupplierListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:01:05.915 +03:00 [INF] Executing OkObjectResult, writing value of type 'salini.api.Application.DTOs.PaginatedResult`1[[salini.api.Application.DTOs.Item.ItemListDto, salini.api.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-17 14:01:05.917 +03:00 [INF] Executed action salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API) in 33.6787ms
2025-10-17 14:01:05.918 +03:00 [INF] Executed action salini.api.API.Controllers.ItemsController.GetItems (salini.api.API) in 28.2807ms
2025-10-17 14:01:05.919 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.SuppliersController.GetSuppliers (salini.api.API)'
2025-10-17 14:01:05.921 +03:00 [INF] Executed endpoint 'salini.api.API.Controllers.ItemsController.GetItems (salini.api.API)'
2025-10-17 14:01:05.923 +03:00 [INF] HTTP GET /api/Items responded 200 in 66.4728 ms
2025-10-17 14:01:05.922 +03:00 [INF] HTTP GET /api/Suppliers responded 200 in 73.3241 ms
2025-10-17 14:01:05.926 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Items?pageSize=1000 - 200 null application/json; charset=utf-8 85.004ms
2025-10-17 14:01:05.928 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Suppliers?pageSize=1000 - 200 null application/json; charset=utf-8 89.7292ms
2025-10-17 14:03:06.391 +03:00 [INF] Application is shutting down...
